(this.webpackJsonpprojectlocalize=this.webpackJsonpprojectlocalize||[]).push([[0],{48:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(25),o=a(9);const c=e=>{const t=document.cookie.split(";");for(let a of t){const[t,n]=a.split("=").map((e=>e.trim()));if(t===e)return n}return null},i=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n={path:"/",...n};const s=new Date;s.setTime(s.getTime()+60*a*1e3),n.expires=s.toUTCString(),n.expires instanceof Date&&(n.expires=n.expires.toUTCString());let o=encodeURIComponent(e)+"="+encodeURIComponent(t);for(let c in n){o+="; "+c;let e=n[c];!0!==e&&(o+="="+e)}document.cookie=o};var r=a(54),l=a(14),d=a.n(l);const m="https://127.0.0.1:7020/api/";async function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const n=e.endsWith("/")?e:`${e}/`,s=`${m}${n}`,o=d.a.get("authToken");return{success:!0,...(await Object(r.a)({url:s,method:t,headers:{"Content-Type":"application/json",Authorization:o?`Bearer ${o}`:void 0},data:a})).data}}catch(n){const e=function(e){const t={400:"Solicita\xe7\xe3o inv\xe1lida.",401:"N\xe3o autorizado.",403:"Acesso negado.",404:"Recurso n\xe3o encontrado.",500:"Erro interno do servidor."};return e.response?e.response.data.message||t[e.response.status]||"Erro na requisi\xe7\xe3o.":e.request?"Nenhuma resposta recebida do servidor.":e.message||"Erro ao configurar a requisi\xe7\xe3o."}(n);return{success:!1,message:e}}}var u=a(1);const j=Object(n.createContext)(),h=()=>Object(n.useContext)(j),p=e=>{let{children:t}=e;const[a,s]=Object(n.useState)((()=>"true"===c("authentication"))),o=async()=>{try{const e=await b("public/CheckAuthentication/"),t=e.success&&e.authenticated;i("authentication",t),s(t)}catch(e){i("authentication",!1),s(!1)}};return Object(n.useEffect)((()=>{o()}),[]),Object(u.jsx)(j.Provider,{value:{isAuthenticated:a,checkAuthentication:o,setIsAuthenticated:s},children:t})},x=()=>Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{className:"text-center d-inline-flex col-auto",children:Object(u.jsxs)(o.b,{className:"nav-link text-decoration-none text-white nav-link-icon px-0 align-items-center",to:"/login",children:[Object(u.jsx)("i",{className:"bi bi-person"}),Object(u.jsx)("span",{className:"text-decoration-none",children:"Login"})]})}),Object(u.jsx)("li",{className:"text-center d-inline-flex col-auto",children:Object(u.jsxs)(o.b,{className:"nav-link text-decoration-none text-white nav-link-icon px-0 align-items-center",to:"/cadastro",children:[Object(u.jsx)("i",{className:"bi bi-toggle"})," Cadastro"]})})]}),O=()=>Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{className:"d-inline-flex col-auto",children:Object(u.jsxs)(o.b,{className:"nav-link",to:"/clientes-list",children:[Object(u.jsx)("i",{className:"bi bi-speedometer2"})," Clientes"]})}),Object(u.jsx)("li",{className:"d-inline-flex col-auto",children:Object(u.jsxs)(o.b,{className:"nav-link nav-link-icon",to:"/cobrancas-list",children:[Object(u.jsx)("i",{className:"bi bi-people"})," Cobran\xe7as"]})})]});var f=()=>{const{isAuthenticated:e}=h();Object(n.useEffect)((()=>{const e=d.a.get("menuState"),t=document.getElementById("navbarNav"),a=document.getElementById("menuIcon");"visible"===e?(t.classList.remove("d-none"),a.classList.remove("bi-box-arrow-down"),a.classList.add("bi-box-arrow-in-up")):(t.classList.add("d-none"),a.classList.remove("bi-box-arrow-in-up"),a.classList.add("bi-box-arrow-down"))}),[]);return Object(u.jsx)("nav",{className:"navbar-expand-md navbar-dark pt-3 pb-2 font-montserrat",style:{background:"#0D1B2A"},children:Object(u.jsxs)("div",{className:"p-0 m-0 mx-auto container-xl row",children:[Object(u.jsxs)("div",{className:"p-0 m-0 col-12 container justify-content-between row align-items-center",children:[Object(u.jsx)(o.b,{className:"col text-sm-center text-start text-decoration-none",to:"/",children:Object(u.jsx)("p",{className:"mb-2 text-white",style:{fontSize:"20px"},children:"Localize Project"})}),Object(u.jsx)("button",{className:"btn text-white col-auto d-inline-flex ms-auto d-sm-none",type:"button",onClick:()=>{const e=document.getElementById("navbarNav"),t=document.getElementById("menuIcon");e.classList.contains("d-none")?(e.classList.remove("d-none"),t.classList.remove("bi-box-arrow-down"),t.classList.add("bi-box-arrow-in-up"),d.a.set("menuState","visible")):(e.classList.add("d-none"),t.classList.remove("bi-box-arrow-in-up"),t.classList.add("bi-box-arrow-down"),d.a.set("menuState","hidden"))},children:Object(u.jsx)("span",{className:"bi bi-box-arrow-in-up",id:"menuIcon",style:{fontSize:"20px"}})})]}),Object(u.jsx)("div",{className:"col-12 d-sm-block d-none",id:"navbarNav",children:Object(u.jsx)("ul",{className:"text-decoration-none text-center text-white my-2 row mx-auto mx-sm-0 col-auto container-xl font-monospace text-center text-sm-end justify-content-center align-items-center",children:e?Object(u.jsx)(O,{}):Object(u.jsx)(x,{})})})]})})};var v=e=>{let{children:t}=e;return Object(u.jsxs)("div",{id:"content",children:[Object(u.jsx)("div",{id:"id_alert_container",className:"container mx-auto"}),t]})};var g=()=>Object(u.jsx)("footer",{className:"footer",style:{background:"#0D1B2A"},children:Object(u.jsx)("div",{className:"font-montserrat  redound-3 px-3 text-center d-flex-inline",children:Object(u.jsxs)("p",{className:"m-0 p-0 text-white rounded ",style:{fontSize:"0.8rem"},children:["Software Desenvolvido por ",Object(u.jsx)("a",{className:"text-white",href:"https://br.linkedin.com/in/samuelmedeirosbc",target:"blank",children:"@Samuel Medeiros"}),"."]})})});var y=e=>{let{children:t}=e;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"container-fluid m-0 p-0 wrapper  ",style:{background:"#f5f7fa"},children:Object(u.jsxs)("div",{className:"wrapper",children:[Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)(f,{}),Object(u.jsx)(v,{children:t})]}),Object(u.jsxs)("div",{className:"footer",children:[Object(u.jsx)("div",{className:"custom-shape-divider-bottom-1708368458 mt-3",style:{marginBottom:"-2px"},children:Object(u.jsx)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:Object(u.jsx)("path",{d:"M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z",className:"shape-fill"})})}),Object(u.jsx)(g,{})]})]})})})},C=a(4);const N=()=>{const[e,t]=Object(n.useState)((()=>c("authentication")));return Object(n.useEffect)((()=>{null===e&&(async()=>{try{const e=await b("public/CheckAuthentication/");if(e.success){const a=e.authenticated;i("authentication",a),t(a)}else console.error("Autentica\xe7\xe3o falhou:",e.message),i("authentication",!1),t(!1)}catch(e){console.error("Erro ao verificar autentica\xe7\xe3o:",e),i("authentication",!1),t(!1)}})()}),[e]),e};var w=a(32);function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null===t?function(e,t,a){let n=document.querySelector(".toast-container");n||(n=document.createElement("div"),n.classList.add("toast-container","position-fixed","top-0","end-0","p-3"),document.body.appendChild(n));const s=document.createElement("div");s.classList.add("toast"),s.setAttribute("role","alert"),s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true");const o=document.createElement("div");o.classList.add("toast-header");const c=document.createElement("strong");c.classList.add("me-auto","Font-Gliker","fw-bold"),c.innerText="{ C P S }";const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("btn-close"),i.setAttribute("data-bs-dismiss","toast"),i.setAttribute("aria-label","Close");const r=document.createElement("div");r.classList.add("toast-body","bg-white","rounded-bottom","shadow-lg"),r.innerText=e,o.appendChild(c),o.appendChild(i),s.appendChild(o),s.appendChild(r),n.appendChild(s),w.a.Toast(s).show(),setTimeout((()=>{n.removeChild(s)}),a)}(e,0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:18e4):function(e,t,a){const n=document.getElementById(a)||document.getElementById("id_alert_container");if(!n)return;const s=n.querySelector(".alert");s&&n.removeChild(s);const o={1:{class:"alert-success",icon:"bi-check-circle-fill"},2:{class:"alert-danger",icon:"bi-exclamation-circle-fill"},3:{class:"alert-warning",icon:"bi-exclamation-triangle-fill"},default:{class:"alert-info",icon:"bi-info-circle-fill"}},{class:c,icon:i}=o[e]||o.default,r=document.createElement("div");r.classList.add("alert",c,"alert-dismissible","fade","show","mt-2","bt-2"),r.setAttribute("role","alert");const l=document.createElement("button");l.classList.add("btn-close"),l.setAttribute("type","button"),l.setAttribute("data-bs-dismiss","alert"),l.setAttribute("aria-label","Close"),r.appendChild(l);const d=document.createElement("span");d.classList.add("bi",i),d.setAttribute("aria-hidden","true"),r.appendChild(d),r.appendChild(document.createTextNode(" "+t)),n.insertBefore(r,n.firstChild)}(t,e,a)}function k(e,t){let a=null;if("string"===typeof t){if(a=document.getElementById(t),!a)return void console.error(`Container com ID '${t}' n\xe3o encontrado.`)}else{if(!(t instanceof HTMLElement))return void console.error("Tipo inv\xe1lido para o container. Deve ser uma string (ID do elemento) ou HTMLElement.");a=t}const n=`${a.id}-loading`;if(!0===e){a.style.display="none";const e=document.createElement("div");e.id=n,e.classList.add("loading","d-flex","justify-content-center","align-items-center","text-primary"),e.style.minHeight="200px",e.style.width="100%";const t=document.createElement("div");t.classList.add("spinner-border"),t.setAttribute("role","status");const s=document.createElement("span");s.classList.add("visually-hidden"),s.textContent="Loading...",t.appendChild(s),e.appendChild(t),a.insertAdjacentElement("afterend",e)}else if(!1===e){const e=document.getElementById(n);e&&e.remove(),a.style.display=""}}var A=e=>{let{headerIcon:t,headerTitle:a,formBody:n,footerLeftButtonText:s,footerLeftButtonAction:o,footerRightButtonText:c,footerRightButtonAction:i,isDark:r=!1}=e;return Object(u.jsx)("div",{className:"container my-3",children:Object(u.jsxs)("div",{className:"card "+(r?"bg-dark":""),children:[Object(u.jsxs)("div",{className:"card-header d-flex align-items-center border-bottom "+(r?"bg-dark text-white":""),children:[Object(u.jsx)("i",{className:`bi bi-${t} fs-5 me-2 ${r?"text-white":"text-dark"}`}),Object(u.jsx)("p",{className:"fs-5 font-monospace fw-bold mb-0 "+(r?"text-white":"text-dark"),children:a})]}),Object(u.jsx)("form",{className:"container card-body "+(r?"bg-dark text-white":""),id:"formulario",children:n}),Object(u.jsxs)("div",{className:`card-footer d-flex justify-content-${i?"between":"center"} ${r?"bg-dark":""}`,children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:o,children:s}),i&&Object(u.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:i,children:c})]})]})})};var S=()=>{const{setIsAuthenticated:e}=h(),[t,a]=Object(n.useState)(""),[s,o]=Object(n.useState)(""),c=Object(C.p)();return Object(u.jsx)("form",{id:"form_login",className:"form-signin container mx-auto my-2",children:Object(u.jsxs)(A,{icon:"person",title:"Acessar Conta",footerChildren:Object(u.jsxs)("div",{className:"col-12 d-flex  justify-content-between",children:[Object(u.jsxs)("button",{className:"btn btn-secondary btn-sm me-2  mt-2",type:"button",onClick:()=>{c("/cadastro")},children:[Object(u.jsx)("i",{className:"bi bi-person-plus"})," Cadastre-se"]}),Object(u.jsxs)("button",{id:"submit-btn",className:"btn btn-primary  me-2 btn-sm",type:"button",onClick:async()=>{if(""!==t.trim()&&""!==s.trim())try{k(!0,"form_login");const a=await b("public/login/","POST",{email:t,senha:s});a.success?(i("authentication",!0),e(!0),c("/usuarios")):E(a.message,2,"form_login")}catch(a){E(a.message||"Erro ao fazer login",2,"form_login")}finally{k(!1,"form_login")}else E("Preencha todos os campos!",2)},children:[Object(u.jsx)("i",{className:"bi bi-box-arrow-in-right"})," Entrar"]})]}),children:[Object(u.jsxs)("div",{className:"form-floating mb-2",children:[Object(u.jsx)("input",{type:"email",className:"form-control",autoComplete:"off",value:t,onChange:e=>a(e.target.value)}),Object(u.jsx)("label",{htmlFor:"email",children:"E-mail"})]}),Object(u.jsxs)("div",{className:"form-floating mb-2",children:[Object(u.jsx)("input",{type:"password",className:"form-control",autoComplete:"off",id:"senha",name:"senha",value:s,onChange:e=>o(e.target.value)}),Object(u.jsx)("label",{htmlFor:"senha",children:"Senha"})]})]})})},T=a(56),D=a(26),I=a(55);var P=()=>{const[e,t]=Object(n.useState)({nome:"",email:"",senha:""}),a=Object(C.p)(),s=e=>{const{name:a,value:n}=e.target;t((e=>({...e,[a]:n})))},o=async()=>{e.nome&&e.email&&e.senha?await(async()=>{const{nome:t,email:n,senha:s}=e;try{k(!0,"form");const e=await b("public/Cadastro/","POST",{nome:t,email:n,senha:s});!0===e.success?(E(e.message,1),a("/login")):E(e.message,2)}catch(o){E("Erro ao registrar. Por favor, tente novamente.",2)}finally{k(!1,"form")}})():E("Por favor, preencha todos os campos obrigat\xf3rios.",2)},c=()=>{t({nome:"",email:"",senha:""})};return Object(u.jsx)("form",{id:"form",className:"form-signin container mx-auto my-2",children:Object(u.jsx)(A,{icon:"person",title:"Cadastro Usu\xe1rio",footerChildren:Object(u.jsxs)("div",{className:"col-12 d-flex justify-content-between",children:[Object(u.jsx)(T.a,{className:"btn btn-secondary btn-sm me-2 mt-2",type:"button",onClick:c,children:"Limpar"}),Object(u.jsx)(T.a,{id:"submit-btn",className:"btn btn-primary me-2 btn-sm",type:"button",onClick:o,children:"Cadastrar"})]}),children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(D.a,{controlId:"nome",className:"mb-2",label:"Nome",children:Object(u.jsx)(I.a.Control,{type:"text",placeholder:"Nome",name:"nome",value:e.nome,onChange:s})}),Object(u.jsx)(D.a,{controlId:"email",className:"mb-2",label:"E-mail",children:Object(u.jsx)(I.a.Control,{type:"email",placeholder:"E-mail",name:"email",value:e.email,onChange:s})}),Object(u.jsx)(D.a,{controlId:"senha",className:"mb-2",label:"Senha",children:Object(u.jsx)(I.a.Control,{type:"password",placeholder:"Senha",name:"senha",value:e.senha,onChange:s})})]})})})};var L=()=>{const e=Object(C.n)(),t=new URLSearchParams(e.search),a=t.get("title")||"Ocorreu um erro!",n=t.get("descricao")||"Desculpe-nos pelo inconveniente.",s=t.get("urlRedirect")||"";return Object(u.jsx)("div",{className:"px-3",children:Object(u.jsxs)("div",{className:"container-erro my-4 container  justify-content-between align-items-center text-center mx-0 mx-sm-auto",children:[Object(u.jsx)("h1",{className:"h1-erro",children:a}),Object(u.jsx)("p",{className:"p-erro",children:n}),s&&Object(u.jsx)("a",{href:s,className:"btn btn-primary",children:"Voltar"}),Object(u.jsx)("p",{children:"Por favor, tente novamente mais tarde ou entre em contato conosco para obter assist\xeancia."})]})})};var _=function(e){let{clienteId:t,initialData:a}=e;const[s,o]=Object(n.useState)({Nome:(null===a||void 0===a?void 0:a.Nome)||"",Documento:(null===a||void 0===a?void 0:a.Documento)||"",Telefone:(null===a||void 0===a?void 0:a.Telefone)||"",Endereco:(null===a||void 0===a?void 0:a.Endereco)||"",UsuarioId:(null===a||void 0===a?void 0:a.UsuarioId)||""}),c=Object(C.p)(),i=e=>{const{name:t,value:a}=e.target;o((e=>({...e,[t]:a})))};return Object(u.jsx)("div",{className:"container my-5",children:Object(u.jsxs)("div",{className:"card justify-content-center",id:"ContainerFormulario",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsxs)("h1",{className:"fw-bolder mt-2 mb-1 fs-6 font-monospace",children:[Object(u.jsx)("span",{className:"bi bi-person me-2"}),t?"Editar Cliente":"Novo Cliente"]})}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)(D.a,{controlId:"Nome",className:"mb-2",label:"Nome",children:Object(u.jsx)(I.a.Control,{type:"text",placeholder:"Nome",name:"Nome",value:s.Nome,onChange:i})}),Object(u.jsx)(D.a,{controlId:"Documento",className:"mb-2",label:"Documento",children:Object(u.jsx)(I.a.Control,{type:"text",placeholder:"Documento",name:"Documento",value:s.Documento,onChange:i})}),Object(u.jsx)(D.a,{controlId:"Telefone",className:"mb-2",label:"Telefone",children:Object(u.jsx)(I.a.Control,{type:"text",placeholder:"Telefone",name:"Telefone",value:s.Telefone,onChange:i})}),Object(u.jsx)(D.a,{controlId:"Endereco",className:"mb-2",label:"Endere\xe7o",children:Object(u.jsx)(I.a.Control,{type:"text",placeholder:"Endere\xe7o",name:"Endereco",value:s.Endereco,onChange:i})})]}),Object(u.jsx)("div",{className:"d-flex justify-content-end card-footer",children:Object(u.jsx)(T.a,{variant:"primary",onClick:async()=>{s.Nome&&s.Documento&&s.Telefone&&s.Endereco?await(async()=>{try{k(!0,"ContainerFormulario");const e=t?`public/clientes/${t}/`:"public/clientes/",a=t?"PUT":"POST",n=await b(e,a,s);n.success?(E(n.message,1),c("/clientes")):E(n.message,2)}catch(e){E("Erro ao salvar os dados. Por favor, tente novamente.",2)}finally{k(!1,"ContainerFormulario")}})():E("Por favor, preencha todos os campos obrigat\xf3rios.",2)},children:t?"Salvar":"Cadastrar"})})]})})};var B=e=>{let{dataHeader:t,columns:a,rows:n}=e;return Object(u.jsxs)("div",{className:"my-3 container p-1",children:[Object(u.jsxs)("div",{className:"d-flex container justify-content-between mb-2 row container mx-auto p-1",children:[Object(u.jsxs)("h1",{className:"text-start col",style:{fontSize:"1.0rem"},children:[Object(u.jsx)("i",{className:`bi bi-${t.icon}-fill`})," ",t.title]}),Object(u.jsxs)("button",{onClick:t.onClickBtn,type:"button",className:"btn btn-success btn-sm col-auto mx-auto me-sm-2",style:{fontSize:"0.8rem"},children:[Object(u.jsx)("i",{className:`bi bi-${t.iconBtn} me-1`,style:{fontSize:"0.8rem"}}),t.buttonText]})]}),Object(u.jsx)("div",{className:"container p-3 mx-auto bg-dark rounded",children:Object(u.jsx)("div",{className:"table-responsive",children:Object(u.jsxs)("table",{className:"table table-hover table-sm table-dark",children:[Object(u.jsx)("thead",{children:Object(u.jsx)("tr",{className:"font-monospace",style:{fontSize:"0.8rem"},children:a.map(((e,t)=>Object(u.jsx)("th",{scope:"col",className:""+(0===t?"text-start":t===a.length-1?"text-end":"text-center"),children:e},t)))})}),Object(u.jsx)("tbody",{className:"table-group-divider",children:n.map(((e,t)=>Object(u.jsxs)("tr",{className:"font-monospace",style:{fontSize:"0.8rem"},children:[e.data.map(((e,t)=>Object(u.jsx)("td",{className:(0===t?"text-start":"text-center")+" align-middle",children:e},t))),Object(u.jsx)("td",{className:"text-end align-middle",children:Object(u.jsx)("div",{className:"btn-group-sm btn-group",role:"group","aria-label":"A\xe7\xf5es",children:e.actions.map(((e,t)=>Object(u.jsx)("button",{type:"button",className:`btn btn-${e.type} btn-sm`,onClick:e.onClick,title:e.name,children:Object(u.jsx)("i",{className:e.icon})},t)))})})]},t)))})]})})})]})},F=a(53);const $=()=>{const[e,t]=Object(n.useState)(!1);return{CustomModal:a=>{let{icon:n,title:s,children:o,footer:c}=a;return Object(u.jsxs)(F.a,{show:e,backdrop:"static",keyboard:!1,contentClassName:"bg-light",dialogClassName:"modal-md modal-dialog-centered  modal-dialog-scrollable  ","aria-labelledby":"staticBackdropLabel",children:[Object(u.jsxs)(F.a.Header,{className:"text-dark py-2",children:[Object(u.jsxs)("h5",{id:"staticBackdropLabel",className:"modal-title fs-5 font-monospace text-black fw-bolder",children:[Object(u.jsx)("i",{className:`me-2 bi bi-${n}`}),s]}),Object(u.jsx)(T.a,{variant:"link",onClick:()=>t(!1),className:"ms-auto mt-0 p-0",style:{textDecoration:"none",color:"black"},children:Object(u.jsx)("i",{className:"bi bi-x fw-bold",style:{fontSize:"25px"}})})]}),Object(u.jsx)(F.a.Body,{className:"text-dark",children:o}),Object(u.jsx)(F.a.Footer,{className:"text-dark py-2 d-flex  justify-content-between",children:c})]})},setShow:t}};var R=e=>{let{id:t,name:a,type:n="text",label:s,value:o,onChange:c}=e;return Object(u.jsxs)("div",{className:"form-floating mb-2 ",children:[Object(u.jsx)("input",{type:n,className:"form-control",id:t,name:a,value:o,onChange:c}),Object(u.jsx)("label",{htmlFor:t,children:s})]})};const z=Object(n.forwardRef)(((e,t)=>{let{id:a,name:n,options:s=[],value:o,onChange:c,className:i="",...r}=e;const l=Array.isArray(s)?s:[];return Object(u.jsxs)("div",{className:`form-floating mb-2 ${i}`,children:[Object(u.jsx)("select",{id:a,name:n,className:"form-control",value:o,onChange:c,ref:t,...r,children:l.map((e=>Object(u.jsx)("option",{value:e.value,children:e.label},e.value)))}),Object(u.jsx)("label",{htmlFor:a,children:r.label})]})}));z.defaultProps={value:"",onChange:()=>{},className:""};var U=z;var M=e=>{let{htmlFor:t,title:a,value:n,iconClass:s}=e;return Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsxs)("label",{className:"col-auto fw-bolder col-form-label fw-bold pe-1",htmlFor:t,children:[s&&Object(u.jsx)("i",{className:`bi me-2 bi-${s}`}),a]}),n&&Object(u.jsx)("span",{id:t,children:n})]})};class V{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.created=e.created?new Date(e.created):new Date,this.updated=e.updated?new Date(e.updated):new Date}toApiPayload(){return{created:this.created.toISOString(),updated:this.updated.toISOString()}}}class G extends V{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.id_cobranca=e.id_cobranca||"",this.descricao=e.descricao||"",this.valor=e.valor||0,this.data=e.data||new Date,this.pago=e.pago||!1,this.cliente_id=e.cliente_id||""}static fromApiResponse(e){return new G(e)}toApiPayload(){return{...super.toApiPayload(),id_cobranca:this.id_cobranca,descricao:this.descricao,valor:this.valor,data:this.data,pago:this.pago,cliente_id:this.cliente_id}}}class q extends V{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.id=e.id||"",this.nome=e.nome||"",this.documento=e.documento||"",this.telefone=e.telefone||"",this.endereco=e.endereco||"",this.usuarioId=e.usuarioId||"",this.cobrancas=this.initializeCobrancas(e.cobrancas)}initializeCobrancas(e){return Array.isArray(e)?e.map((e=>new G(e))):[]}static fromApiResponse(e){return new q(e)}toApiPayload(){return{...super.toApiPayload(),id:this.id,nome:this.nome,documento:this.documento,telefone:this.telefone,endereco:this.endereco,usuarioId:this.usuarioId,cobrancas:this.cobrancas.map((e=>e.toApiPayload()))}}}class H extends V{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.id_usuario=e.id_usuario||"",this.nome=e.nome||"",this.email=e.email||"",this.senha=e.senha||"",this.clientes=e.clientes||[]}static fromApiResponse(e){return new H(e)}toApiPayload(){return{...super.toApiPayload(),id_usuario:this.id_usuario,nome:this.nome,email:this.email,senha:this.senha,clientes:this.clientes}}}var J=new class{async getClienteById(e){const t=await b(`cliente/${e}`,"GET");return t.success?q.fromApiResponse(t.data):null}async getAllClientes(){const e=await b("cliente","GET");return e.success?e.data.map((e=>q.fromApiResponse(e))):[]}async createCliente(e){const t=await b("cliente","POST",e);return t.success?q.fromApiResponse(t.data):null}async updateCliente(e,t){const a=await b(`cliente/${e}`,"PUT",t);return a.success?q.fromApiResponse(a.data):null}async deleteCliente(e){return(await b(`cliente/${e}`,"DELETE")).success}};var W=(e,t)=>{const[a,s]=Object(n.useState)({nome:"",telefone:"",tipo_cliente:"",descricao:"",endereco:""}),[o,c]=Object(n.useState)({}),i=e=>E(e),r=Object(n.useCallback)((async()=>{if(e)try{const t=await J.getCliente(e);if(t.sucesso){const e=q.fromApiResponse(t.data);s(e),c(e)}else i(t.message)}catch{i("Erro ao buscar cliente")}else i("ID do cliente n\xe3o fornecido")}),[e]);Object(n.useEffect)((()=>{e&&r()}),[e,r]);const l=e=>{const{name:t,value:a}=e.target;s((e=>({...e,[t]:a})))};return t?{handleSubmit:async()=>{const t=(e=>{let{nome:t,telefone:a,tipo_cliente:n}=e;const s=[];return t.trim()||s.push("Nome do cliente \xe9 obrigat\xf3rio."),a.trim()||s.push("Telefone \xe9 obrigat\xf3rio."),n.trim()||s.push("Tipo de cliente \xe9 obrigat\xf3rio."),s})(a);if(t.length>0)i(`Erro:\n${t.join("\n")}`);else try{const t=await J.updateCliente(e,a);t.sucesso?i("Cliente atualizado com sucesso!"):i(t.message)}catch{i("Erro ao atualizar cliente")}},renderForm:()=>Object(u.jsxs)("div",{children:[Object(u.jsx)(R,{id:"nome",name:"nome",value:a.nome,label:"Nome do Cliente",onChange:l}),Object(u.jsx)(R,{id:"telefone",name:"telefone",value:a.telefone,label:"Telefone",onChange:l,type:"tel"}),Object(u.jsx)(U,{id:"tipo_cliente",name:"tipo_cliente",value:a.tipo_cliente,label:"Tipo de Cliente",options:[{value:"Pessoa F\xedsica",label:"Pessoa F\xedsica"},{value:"Pessoa Jur\xeddica",label:"Pessoa Jur\xeddica"}],onChange:l}),Object(u.jsx)(R,{id:"descricao",name:"descricao",value:a.descricao,label:"Descri\xe7\xe3o",onChange:l})]})}:{renderForm:()=>Object(u.jsxs)("div",{children:[Object(u.jsx)(M,{htmlFor:"nome",title:"Nome do Cliente:",value:o.nome||"",iconClass:"person"}),Object(u.jsx)(M,{htmlFor:"telefone",title:"Telefone:",value:o.telefone||"",iconClass:"telephone"}),Object(u.jsx)(M,{htmlFor:"tipo_cliente",title:"Tipo de Cliente:",value:o.tipo_cliente||"",iconClass:"tag"}),Object(u.jsx)(M,{htmlFor:"descricao",title:"Descri\xe7\xe3o:",value:o.descricao||"",iconClass:"info-circle"}),Object(u.jsx)(M,{htmlFor:"endereco",title:"Endere\xe7o:",value:o.endereco||"",iconClass:"house"})]})}};var Z=e=>{const{CustomModal:t,setShow:a}=$(),[s,o]=Object(n.useState)(null),{renderForm:c}=W(s,!1);return{openModal:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return E("ID do cliente n\xe3o fornecido"),a(!1);o(e),a(t)},ClienteModalComponent:()=>Object(u.jsx)(t,{icon:"person",title:"Visualizar Cliente",children:c(),footer:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm mx-auto",onClick:()=>a(!1),children:"Fechar"})})}};var K=()=>{const{CustomModal:e,setShow:t}=$(),[a,s]=Object(n.useState)(""),[o,c]=Object(n.useState)(""),[i,r]=Object(n.useState)((()=>()=>{})),l=()=>{t(!1)},d=()=>{i(),l()};return{openModal:(e,a,n)=>{s(e),c(a),r((()=>n)),t(!0)},ConfirmationModalComponent:()=>Object(u.jsx)(e,{icon:"exclamation-triangle",title:a,children:Object(u.jsx)("p",{children:o}),footer:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm me-auto",onClick:l,children:"Cancelar"}),Object(u.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:d,children:"Confirmar"})]})})}};new class{async getCobrancaById(e){const t=await b(`cobranca/${e}`,"GET");return t.success?G.fromApiResponse(t.data):null}async getAllCobrancas(){const e=await b("cobranca","GET");return e.success?e.data.map((e=>G.fromApiResponse(e))):[]}async createCobranca(e){const t=await b("cobranca","POST",e);return t.success?G.fromApiResponse(t.data):null}async updateCobranca(e,t){const a=await b(`cobranca/${e}`,"PUT",t);return a.success?G.fromApiResponse(a.data):null}async deleteCobranca(e){return(await b(`cobranca/${e}`,"DELETE")).success}};new class{async getUsuarioById(e){const t=await b(`usuarios/${e}`,"GET");return t.success?H.fromApiResponse(t.data):null}async getAllUsuarios(){const e=await b("usuarios","GET");return e.success?e.data.map((e=>H.fromApiResponse(e))):[]}async register(e){const t=await b("usuarios/register","POST",e);return t.success?H.fromApiResponse(t.data):null}async updateUsuario(e,t){const a=await b(`usuarios/${e}`,"PUT",t);return a.success?H.fromApiResponse(a.data):null}async deleteUsuario(e){return(await b(`usuarios/${e}`,"DELETE")).success}};var Q=()=>{const[e,t]=Object(n.useState)([]),a=Object(C.p)(),{openModal:s,ClienteModalComponent:o}=Z(),{openModal:c,ConfirmationModalComponent:i}=K(),r=Object(n.useCallback)((async()=>{try{const e=await J.getClientesByEmpresa();if(e.sucesso){const a=e.data.map((e=>q.fromApiResponse(e)));t(a)}else E(e.message)}catch(e){E("Erro ao buscar clientes",e)}}),[]);Object(n.useEffect)((()=>{r()}),[r]);const l=e.map((e=>({data:[e.nome,e.telefone],actions:[{name:"Editar",icon:"bi-pencil",type:"primary",onClick:()=>a(`/clientes/editar/${e.id_cliente}`)},{name:"Visualizar",icon:"bi-eye",type:"success",onClick:()=>s(e.id_cliente,!0)},{name:"Excluir",icon:"bi-trash",type:"danger",onClick:()=>(async e=>{c("Confirmar Exclus\xe3o","Voc\xea tem certeza que deseja excluir este cliente?",(async()=>{try{const a=await J.deleteCliente(e);a.sucesso?(t((t=>t.filter((t=>t.id_cliente!==e)))),E(a.message)):E(a.message,2,"id_msg")}catch(a){E("Erro ao excluir cliente",a,2,"id_msg")}}))})(e.id_cliente)}]}))),d={icon:"people",title:"Lista de Clientes",iconBtn:"plus",buttonText:"Criar Novo Cliente",onClickBtn:()=>a("/clientes/cadastrar")};return Object(u.jsxs)("div",{id:"id_msg",children:[Object(u.jsx)(B,{dataHeader:d,columns:["Nome","Telefone","A\xe7\xf5es"],rows:l}),Object(u.jsx)(o,{}),Object(u.jsx)(i,{})]})};var X=function(e){let{cobrancaId:t,initialData:a,clienteId:s}=e;const[o,c]=Object(n.useState)({Descricao:(null===a||void 0===a?void 0:a.Descricao)||"",Valor:(null===a||void 0===a?void 0:a.Valor)||0,Data:null!==a&&void 0!==a&&a.Data?new Date(a.Data).toISOString().split("T")[0]:"",Pago:(null===a||void 0===a?void 0:a.Pago)||!1,ClienteId:s||(null===a||void 0===a?void 0:a.ClienteId)||""}),i=Object(C.p)(),r=e=>{const{name:t,value:a,type:n,checked:s}=e.target;c((e=>({...e,[t]:"checkbox"===n?s:a})))};return Object(u.jsx)("div",{className:"container my-5",children:Object(u.jsxs)("div",{className:"card justify-content-center",id:"ContainerFormulario",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsxs)("h1",{className:"fw-bolder mt-2 mb-1 fs-6 font-monospace",children:[Object(u.jsx)("span",{className:"bi bi-cash me-2"}),t?"Editar Cobran\xe7a":"Nova Cobran\xe7a"]})}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)(D.a,{controlId:"Descricao",className:"mb-2",label:"Descri\xe7\xe3o",children:Object(u.jsx)(I.a.Control,{type:"text",placeholder:"Descri\xe7\xe3o",name:"Descricao",value:o.Descricao,onChange:r})}),Object(u.jsx)(D.a,{controlId:"Valor",className:"mb-2",label:"Valor",children:Object(u.jsx)(I.a.Control,{type:"number",step:"0.01",placeholder:"Valor",name:"Valor",value:o.Valor,onChange:r})}),Object(u.jsx)(D.a,{controlId:"Data",className:"mb-2",label:"Data",children:Object(u.jsx)(I.a.Control,{type:"date",placeholder:"Data",name:"Data",value:o.Data,onChange:r})}),Object(u.jsx)(I.a.Check,{type:"checkbox",id:"Pago",label:"Pago",name:"Pago",checked:o.Pago,onChange:r})]}),Object(u.jsx)("div",{className:"d-flex justify-content-end card-footer",children:Object(u.jsx)(T.a,{variant:"primary",onClick:async()=>{o.Descricao&&o.Valor>=0&&o.Data&&o.ClienteId?await(async()=>{try{k(!0,"ContainerFormulario");const e=t?`public/cobrancas/${t}/`:"public/cobrancas/",a=t?"PUT":"POST",n=await b(e,a,o);n.success?(E(n.message,1),i("/cobrancas")):E(n.message,2)}catch(e){E("Erro ao salvar os dados. Por favor, tente novamente.",2)}finally{k(!1,"ContainerFormulario")}})():E("Por favor, preencha todos os campos obrigat\xf3rios e valide os dados.",2)},children:t?"Salvar":"Cadastrar"})})]})})};var Y=function(){};var ee=function(){};var te=()=>{const e=N();return Object(u.jsxs)(C.d,{children:[Object(u.jsx)(C.b,{path:"/",element:Object(u.jsx)(S,{})}),Object(u.jsx)(C.b,{path:"/login",element:Object(u.jsx)(S,{})}),Object(u.jsx)(C.b,{path:"/cadastro",element:Object(u.jsx)(P,{})}),Object(u.jsx)(C.b,{path:"/erro-interno",element:Object(u.jsx)(L,{title:"Erro Interno",descricao:"Ocorreu um erro interno no servidor. Tente novamente mais tarde."})}),Object(u.jsx)(C.b,{path:"*",element:Object(u.jsx)(L,{title:"P\xe1gina N\xe3o Encontrada",descricao:"A p\xe1gina que voc\xea est\xe1 procurando n\xe3o existe."})}),Object(u.jsx)(C.b,{path:"/cliente/",element:e?Object(u.jsx)(Q,{}):Object(u.jsx)(C.a,{to:"/login"})}),Object(u.jsx)(C.b,{path:"/cliente/create/",element:e?Object(u.jsx)(_,{}):Object(u.jsx)(C.a,{to:"/login"})})," ",Object(u.jsx)(C.b,{path:"/cliente/edit/:id",element:e?Object(u.jsx)(_,{}):Object(u.jsx)(C.a,{to:"/login"})}),Object(u.jsx)(C.b,{path:"/cliente/view/:id",element:e?Object(u.jsx)(undefined,{}):Object(u.jsx)(C.a,{to:"/login"})}),Object(u.jsx)(C.b,{path:"/cobranca/",element:e?Object(u.jsx)(ee,{}):Object(u.jsx)(C.a,{to:"/login"})}),Object(u.jsx)(C.b,{path:"/cobranca/edit/:id",element:e?Object(u.jsx)(X,{}):Object(u.jsx)(C.a,{to:"/login"})})," ",Object(u.jsx)(C.b,{path:"/cobranca/create/",element:e?Object(u.jsx)(X,{}):Object(u.jsx)(C.a,{to:"/login"})}),Object(u.jsx)(C.b,{path:"/cobranca/view/:id",element:e?Object(u.jsx)(Y,{}):Object(u.jsx)(C.a,{to:"/login"})})]})};var ae=()=>Object(u.jsx)(p,{children:Object(u.jsx)(o.a,{children:Object(u.jsx)(y,{children:Object(u.jsx)(te,{})})})});a(46),a(47),a(48),a(49);const ne=document.getElementById("root");Object(s.createRoot)(ne).render(Object(u.jsx)(ae,{}))}},[[50,1,2]]]);
//# sourceMappingURL=main.638eafe8.chunk.js.map