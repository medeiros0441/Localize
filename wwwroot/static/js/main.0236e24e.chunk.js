(this.webpackJsonpprojectlocalize=this.webpackJsonpprojectlocalize||[]).push([[0],{48:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a(25),s=a(9);const c=e=>{const t=document.cookie.split(";");for(let a of t){const[t,n]=a.split("=").map((e=>e.trim()));if(t===e)return n}return null},i=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n={path:"/",...n};const o=new Date;o.setTime(o.getTime()+60*a*1e3),n.expires=o.toUTCString(),n.expires instanceof Date&&(n.expires=n.expires.toUTCString());let s=encodeURIComponent(e)+"="+encodeURIComponent(t);for(let c in n){s+="; "+c;let e=n[c];!0!==e&&(s+="="+e)}document.cookie=s};var l=a(54);async function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const n=`https://127.0.0.1:7020/api/${e.endsWith("/")?e:`${e}/`}`;return{success:!0,...(await Object(l.a)({url:n,method:t,headers:{"Content-Type":"application/json"},data:a,withCredentials:!0})).data}}catch(n){const e=function(e){const t={400:"Solicita\xe7\xe3o inv\xe1lida.",401:"N\xe3o autorizado.",403:"Acesso negado.",404:"Recurso n\xe3o encontrado.",500:"Erro interno do servidor."};return e.response?e.response.data.message||t[e.response.status]||"Erro na requisi\xe7\xe3o.":e.request?"Nenhuma resposta recebida do servidor.":e.message||"Erro ao configurar a requisi\xe7\xe3o."}(n);return{success:!1,message:e}}}var d=a(1);const m=Object(n.createContext)(),b=()=>Object(n.useContext)(m),j=e=>{let{children:t}=e;const[a,o]=Object(n.useState)((()=>"true"===c("authentication"))),s=async()=>{try{const e=await r("public/CheckAuthentication/"),t=e.success&&e.authenticated;i("authentication",t.toString()),o(t)}catch(e){i("authentication","false"),o(!1)}};return Object(n.useEffect)((()=>{s()}),[]),Object(d.jsx)(m.Provider,{value:{isAuthenticated:a,checkAuthentication:s,setIsAuthenticated:o},children:t})};var u=a(20),h=a.n(u);const x=e=>{let{name:t,text:a}=e;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("i",{className:`bi bi-${t}`}),a&&Object(d.jsx)("span",{className:"ms-1",children:a})]})},p=()=>Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("li",{className:"text-center d-inline-flex col-auto",children:Object(d.jsx)(s.b,{className:"nav-link text-decoration-none text-white nav-link-icon px-0 align-items-center",to:"/login",children:Object(d.jsx)(x,{name:"box-arrow-in-right",text:"Login"})})}),Object(d.jsx)("li",{className:"text-center d-inline-flex col-auto",children:Object(d.jsx)(s.b,{className:"nav-link text-decoration-none text-white nav-link-icon px-0 align-items-center",to:"/cadastro",children:Object(d.jsx)(x,{name:"pencil-square",text:"Cadastro"})})})]}),O=()=>Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("li",{className:"d-inline-flex col-auto",children:Object(d.jsx)(s.b,{className:"nav-link",to:"/cliente",children:Object(d.jsx)(x,{name:"people",text:"Clientes"})})}),Object(d.jsx)("li",{className:"d-inline-flex col-auto",children:Object(d.jsx)(s.b,{className:"nav-link nav-link-icon",to:"/cobranca",children:Object(d.jsx)(x,{name:"cash-stack",text:"Cobran\xe7as"})})})]});var f=()=>{const{isAuthenticated:e}=b();Object(n.useEffect)((()=>{const e=h.a.get("menuState"),t=document.getElementById("navbarNav"),a=document.getElementById("menuIcon");"visible"===e?(t.classList.remove("d-none"),a.classList.remove("bi-box-arrow-down"),a.classList.add("bi-box-arrow-in-up")):(t.classList.add("d-none"),a.classList.remove("bi-box-arrow-in-up"),a.classList.add("bi-box-arrow-down"))}),[]);return Object(d.jsx)("nav",{className:"navbar-expand-md navbar-dark pt-3 pb-2 font-montserrat",style:{background:"#0D1B2A"},children:Object(d.jsxs)("div",{className:"p-0 m-0 mx-auto container-xl row",children:[Object(d.jsxs)("div",{className:"p-0 m-0 col-12 container justify-content-between row align-items-center",children:[Object(d.jsx)(s.b,{className:"col text-sm-center text-start text-decoration-none",to:"/",children:Object(d.jsx)("p",{className:"mb-2 text-white",style:{fontSize:"20px"},children:"Localize Project"})}),Object(d.jsx)("button",{className:"btn text-white col-auto d-inline-flex ms-auto d-sm-none",type:"button",onClick:()=>{const e=document.getElementById("navbarNav"),t=document.getElementById("menuIcon");e.classList.contains("d-none")?(e.classList.remove("d-none"),t.classList.remove("bi-box-arrow-down"),t.classList.add("bi-box-arrow-in-up"),h.a.set("menuState","visible")):(e.classList.add("d-none"),t.classList.remove("bi-box-arrow-in-up"),t.classList.add("bi-box-arrow-down"),h.a.set("menuState","hidden"))},children:Object(d.jsx)("span",{className:"bi bi-box-arrow-in-up",id:"menuIcon",style:{fontSize:"20px"}})})]}),Object(d.jsx)("div",{className:"col-12 d-sm-block d-none",id:"navbarNav",children:Object(d.jsx)("ul",{className:"text-decoration-none text-center text-white my-2 row mx-auto mx-sm-0 col-auto container-xl font-monospace text-center text-sm-end justify-content-center align-items-center",children:e?Object(d.jsx)(O,{}):Object(d.jsx)(p,{})})})]})})};var v=e=>{let{children:t}=e;return Object(d.jsxs)("div",{id:"content",children:[Object(d.jsx)("div",{id:"id_alert_container",className:"container mx-auto"}),t]})};var g=()=>Object(d.jsx)("footer",{className:"footer",style:{background:"#0D1B2A"},children:Object(d.jsx)("div",{className:"font-montserrat  redound-3 px-3 text-center d-flex-inline",children:Object(d.jsxs)("p",{className:"m-0 p-0 text-white rounded ",style:{fontSize:"0.8rem"},children:["Software Desenvolvido por ",Object(d.jsx)("a",{className:"text-white",href:"https://br.linkedin.com/in/samuelmedeirosbc",target:"blank",children:"@Samuel Medeiros"}),"."]})})});var y=e=>{let{children:t}=e;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"container-fluid m-0 p-0 wrapper  ",style:{background:"#f5f7fa"},children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)(f,{}),Object(d.jsx)(v,{children:t})]}),Object(d.jsxs)("div",{className:"footer",children:[Object(d.jsx)("div",{className:"custom-shape-divider-bottom-1708368458 mt-3",style:{marginBottom:"-2px"},children:Object(d.jsx)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:Object(d.jsx)("path",{d:"M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z",className:"shape-fill"})})}),Object(d.jsx)(g,{})]})]})})})},C=a(4);const N=()=>{const[e,t]=Object(n.useState)((()=>c("authentication")));return Object(n.useEffect)((()=>{null===e&&(async()=>{try{const e=await r("public/CheckAuthentication/");if(e.success){const a=e.authenticated;i("authentication",a),t(a)}else console.error("Autentica\xe7\xe3o falhou:",e.message),i("authentication",!1),t(!1)}catch(e){console.error("Erro ao verificar autentica\xe7\xe3o:",e),i("authentication",!1),t(!1)}})()}),[e]),e};var w=a(32);function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null===t?function(e,t,a){let n=document.querySelector(".toast-container");n||(n=document.createElement("div"),n.classList.add("toast-container","position-fixed","top-0","end-0","p-3"),document.body.appendChild(n));const o=document.createElement("div");o.classList.add("toast"),o.setAttribute("role","alert"),o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true");const s=document.createElement("div");s.classList.add("toast-header");const c=document.createElement("strong");c.classList.add("me-auto","Font-Gliker","fw-bold"),c.innerText="{ C P S }";const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("btn-close"),i.setAttribute("data-bs-dismiss","toast"),i.setAttribute("aria-label","Close");const l=document.createElement("div");l.classList.add("toast-body","bg-white","rounded-bottom","shadow-lg"),l.innerText=e,s.appendChild(c),s.appendChild(i),o.appendChild(s),o.appendChild(l),n.appendChild(o),w.a.Toast(o).show(),setTimeout((()=>{n.removeChild(o)}),a)}(e,0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:18e4):function(e,t,a){const n=document.getElementById(a)||document.getElementById("id_alert_container");if(!n)return;const o=n.querySelector(".alert");o&&n.removeChild(o);const s={1:{class:"alert-success",icon:"bi-check-circle-fill"},2:{class:"alert-danger",icon:"bi-exclamation-circle-fill"},3:{class:"alert-warning",icon:"bi-exclamation-triangle-fill"},default:{class:"alert-info",icon:"bi-info-circle-fill"}},{class:c,icon:i}=s[e]||s.default,l=document.createElement("div");l.classList.add("alert",c,"alert-dismissible","fade","show","mt-2","bt-2"),l.setAttribute("role","alert");const r=document.createElement("button");r.classList.add("btn-close"),r.setAttribute("type","button"),r.setAttribute("data-bs-dismiss","alert"),r.setAttribute("aria-label","Close"),l.appendChild(r);const d=document.createElement("span");d.classList.add("bi",i),d.setAttribute("aria-hidden","true"),l.appendChild(d),l.appendChild(document.createTextNode(" "+t)),n.insertBefore(l,n.firstChild)}(t,e,a)}function k(e,t){let a=null;if("string"===typeof t){if(a=document.getElementById(t),!a)return void console.error(`Container com ID '${t}' n\xe3o encontrado.`)}else{if(!(t instanceof HTMLElement))return void console.error("Tipo inv\xe1lido para o container. Deve ser uma string (ID do elemento) ou HTMLElement.");a=t}const n=`${a.id}-loading`;if(!0===e){a.style.display="none";const e=document.createElement("div");e.id=n,e.classList.add("loading","d-flex","justify-content-center","align-items-center","text-primary"),e.style.minHeight="200px",e.style.width="100%";const t=document.createElement("div");t.classList.add("spinner-border"),t.setAttribute("role","status");const o=document.createElement("span");o.classList.add("visually-hidden"),o.textContent="Loading...",t.appendChild(o),e.appendChild(t),a.insertAdjacentElement("afterend",e)}else if(!1===e){const e=document.getElementById(n);e&&e.remove(),a.style.display=""}}var S=e=>{let{headerIcon:t,headerTitle:a,formBody:n,footerLeftButtonText:o,footerLeftButtonAction:s,footerRightButtonText:c,footerRightButtonAction:i,isDark:l=!1}=e;return Object(d.jsx)("div",{className:"container my-3",children:Object(d.jsxs)("div",{className:"card "+(l?"bg-dark":""),children:[Object(d.jsxs)("div",{className:"card-header d-flex align-items-center border-bottom "+(l?"bg-dark text-white":""),children:[Object(d.jsx)("i",{className:`bi bi-${t} fs-5 me-2 ${l?"text-white":"text-dark"}`}),Object(d.jsx)("p",{className:"fs-5 font-monospace fw-bold mb-0 "+(l?"text-white":"text-dark"),children:a})]}),Object(d.jsx)("form",{className:"container card-body "+(l?"bg-dark text-white":""),id:"formulario",children:n}),Object(d.jsxs)("div",{className:`card-footer d-flex justify-content-${i?"between":"center"} ${l?"bg-dark":""}`,children:[Object(d.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:s,children:o}),i&&Object(d.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:i,children:c})]})]})})};var A=()=>{const{setIsAuthenticated:e}=b(),[t,a]=Object(n.useState)(""),[o,s]=Object(n.useState)(""),c=Object(C.p)();return Object(d.jsx)("div",{id:"form_login",className:"container mx-auto",children:Object(d.jsx)(S,{headerIcon:"person",headerTitle:"Acessar Conta",isDark:!1,formBody:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"form-floating mb-2",children:[Object(d.jsx)("input",{type:"email",className:"form-control",autoComplete:"off",value:t,onChange:e=>a(e.target.value)}),Object(d.jsx)("label",{htmlFor:"email",children:"E-mail"})]}),Object(d.jsxs)("div",{className:"form-floating mb-2",children:[Object(d.jsx)("input",{type:"password",className:"form-control",autoComplete:"off",id:"senha",name:"senha",value:o,onChange:e=>s(e.target.value)}),Object(d.jsx)("label",{htmlFor:"senha",children:"Senha"})]})]}),footerLeftButtonText:"Cadastre-se",footerLeftButtonAction:()=>{c("/cadastro")},footerRightButtonText:"Entrar",footerRightButtonAction:async()=>{if(""!==t.trim()&&""!==o.trim())try{k(!0,"form_login");const a=await r("public/login/","POST",{email:t,senha:o});a.success?(i("authentication","true"),e(!0),c("/cliente")):E(a.message,2,"form_login")}catch(a){E(a.message||"Erro ao fazer login",2,"form_login")}finally{k(!1,"form_login")}else E("Preencha todos os campos!",2)}})})},T=a(26),D=a(55);var I=()=>{const[e,t]=Object(n.useState)({nome:"",email:"",senha:""}),a=Object(C.p)(),o=e=>{const{name:a,value:n}=e.target;t((e=>({...e,[a]:n})))};return Object(d.jsx)("form",{id:"form",className:"form-signin container mx-auto my-2",children:Object(d.jsx)(S,{headerIcon:"person",headerTitle:"Cadastro Usu\xe1rio",formBody:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(T.a,{controlId:"nome",className:"mb-2",label:"Nome",children:Object(d.jsx)(D.a.Control,{type:"text",placeholder:"Nome",name:"nome",value:e.nome,onChange:o})}),Object(d.jsx)(T.a,{controlId:"email",className:"mb-2",label:"E-mail",children:Object(d.jsx)(D.a.Control,{type:"email",placeholder:"E-mail",name:"email",value:e.email,onChange:o})}),Object(d.jsx)(T.a,{controlId:"senha",className:"mb-2",label:"Senha",children:Object(d.jsx)(D.a.Control,{type:"password",placeholder:"Senha",name:"senha",value:e.senha,onChange:o})})]}),footerLeftButtonText:"Limpar",footerLeftButtonAction:()=>{t({nome:"",email:"",senha:""})},footerRightButtonText:"Cadastrar",footerRightButtonAction:async()=>{e.nome&&e.email&&e.senha?await(async()=>{const{nome:t,email:n,senha:o}=e;try{k(!0,"form");const e=await r("public/Cadastro/","POST",{nome:t,email:n,senha:o});!0===e.success?(E(e.message,1),a("/login")):E(e.message,2)}catch(s){E("Erro ao registrar. Por favor, tente novamente.",2)}finally{k(!1,"form")}})():E("Por favor, preencha todos os campos obrigat\xf3rios.",2)}})})};var L=()=>{const e=Object(C.n)(),t=new URLSearchParams(e.search),a=t.get("title")||"Ocorreu um erro!",n=t.get("descricao")||"Desculpe-nos pelo inconveniente.",o=t.get("urlRedirect")||"";return Object(d.jsx)("div",{className:"px-3",children:Object(d.jsxs)("div",{className:"container-erro my-4 container  justify-content-between align-items-center text-center mx-0 mx-sm-auto",children:[Object(d.jsx)("h1",{className:"h1-erro",children:a}),Object(d.jsx)("p",{className:"p-erro",children:n}),o&&Object(d.jsx)("a",{href:o,className:"btn btn-primary",children:"Voltar"}),Object(d.jsx)("p",{children:"Por favor, tente novamente mais tarde ou entre em contato conosco para obter assist\xeancia."})]})})},B=a(56);var P=function(e){let{clienteId:t,initialData:a}=e;const[o,s]=Object(n.useState)({Nome:(null===a||void 0===a?void 0:a.Nome)||"",Documento:(null===a||void 0===a?void 0:a.Documento)||"",Telefone:(null===a||void 0===a?void 0:a.Telefone)||"",Endereco:(null===a||void 0===a?void 0:a.Endereco)||"",UsuarioId:(null===a||void 0===a?void 0:a.UsuarioId)||""}),c=Object(C.p)(),i=e=>{const{name:t,value:a}=e.target;s((e=>({...e,[t]:a})))};return Object(d.jsx)("div",{className:"container my-5",children:Object(d.jsxs)("div",{className:"card justify-content-center",id:"ContainerFormulario",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsxs)("h1",{className:"fw-bolder mt-2 mb-1 fs-6 font-monospace",children:[Object(d.jsx)("span",{className:"bi bi-person me-2"}),t?"Editar Cliente":"Novo Cliente"]})}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)(T.a,{controlId:"Nome",className:"mb-2",label:"Nome",children:Object(d.jsx)(D.a.Control,{type:"text",placeholder:"Nome",name:"Nome",value:o.Nome,onChange:i})}),Object(d.jsx)(T.a,{controlId:"Documento",className:"mb-2",label:"Documento",children:Object(d.jsx)(D.a.Control,{type:"text",placeholder:"Documento",name:"Documento",value:o.Documento,onChange:i})}),Object(d.jsx)(T.a,{controlId:"Telefone",className:"mb-2",label:"Telefone",children:Object(d.jsx)(D.a.Control,{type:"text",placeholder:"Telefone",name:"Telefone",value:o.Telefone,onChange:i})}),Object(d.jsx)(T.a,{controlId:"Endereco",className:"mb-2",label:"Endere\xe7o",children:Object(d.jsx)(D.a.Control,{type:"text",placeholder:"Endere\xe7o",name:"Endereco",value:o.Endereco,onChange:i})})]}),Object(d.jsx)("div",{className:"d-flex justify-content-end card-footer",children:Object(d.jsx)(B.a,{variant:"primary",onClick:async()=>{o.Nome&&o.Documento&&o.Telefone&&o.Endereco?await(async()=>{try{k(!0,"ContainerFormulario");const e=t?`public/clientes/${t}/`:"public/clientes/",a=t?"PUT":"POST",n=await r(e,a,o);n.success?(E(n.message,1),c("/clientes")):E(n.message,2)}catch(e){E("Erro ao salvar os dados. Por favor, tente novamente.",2)}finally{k(!1,"ContainerFormulario")}})():E("Por favor, preencha todos os campos obrigat\xf3rios.",2)},children:t?"Salvar":"Cadastrar"})})]})})};var F=e=>{let{dataHeader:t,columns:a,rows:n}=e;return Object(d.jsxs)("div",{className:"my-3 container p-1",children:[Object(d.jsxs)("div",{className:"d-flex container justify-content-between mb-2 row container mx-auto p-1",children:[Object(d.jsxs)("h1",{className:"text-start col",style:{fontSize:"1.0rem"},children:[Object(d.jsx)("i",{className:`bi bi-${t.icon}-fill`})," ",t.title]}),Object(d.jsxs)("button",{onClick:t.onClickBtn,type:"button",className:"btn btn-success btn-sm col-auto mx-auto me-sm-2",style:{fontSize:"0.8rem"},children:[Object(d.jsx)("i",{className:`bi bi-${t.iconBtn} me-1`,style:{fontSize:"0.8rem"}}),t.buttonText]})]}),Object(d.jsx)("div",{className:"container p-3 mx-auto bg-dark rounded",children:Object(d.jsx)("div",{className:"table-responsive",children:Object(d.jsxs)("table",{className:"table table-hover table-sm table-dark",children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{className:"font-monospace",style:{fontSize:"0.8rem"},children:a.map(((e,t)=>Object(d.jsx)("th",{scope:"col",className:""+(0===t?"text-start":t===a.length-1?"text-end":"text-center"),children:e},t)))})}),Object(d.jsx)("tbody",{className:"table-group-divider",children:n.map(((e,t)=>Object(d.jsxs)("tr",{className:"font-monospace",style:{fontSize:"0.8rem"},children:[e.data.map(((e,t)=>Object(d.jsx)("td",{className:(0===t?"text-start":"text-center")+" align-middle",children:e},t))),Object(d.jsx)("td",{className:"text-end align-middle",children:Object(d.jsx)("div",{className:"btn-group-sm btn-group",role:"group","aria-label":"A\xe7\xf5es",children:e.actions.map(((e,t)=>Object(d.jsx)("button",{type:"button",className:`btn btn-${e.type} btn-sm`,onClick:e.onClick,title:e.name,children:Object(d.jsx)("i",{className:e.icon})},t)))})})]},t)))})]})})})]})},_=a(53);const R=()=>{const[e,t]=Object(n.useState)(!1);return{CustomModal:a=>{let{icon:n,title:o,children:s,footer:c}=a;return Object(d.jsxs)(_.a,{show:e,backdrop:"static",keyboard:!1,contentClassName:"bg-light",dialogClassName:"modal-md modal-dialog-centered  modal-dialog-scrollable  ","aria-labelledby":"staticBackdropLabel",children:[Object(d.jsxs)(_.a.Header,{className:"text-dark py-2",children:[Object(d.jsxs)("h5",{id:"staticBackdropLabel",className:"modal-title fs-5 font-monospace text-black fw-bolder",children:[Object(d.jsx)("i",{className:`me-2 bi bi-${n}`}),o]}),Object(d.jsx)(B.a,{variant:"link",onClick:()=>t(!1),className:"ms-auto mt-0 p-0",style:{textDecoration:"none",color:"black"},children:Object(d.jsx)("i",{className:"bi bi-x fw-bold",style:{fontSize:"25px"}})})]}),Object(d.jsx)(_.a.Body,{className:"text-dark",children:s}),Object(d.jsx)(_.a.Footer,{className:"text-dark py-2 d-flex  justify-content-between",children:c})]})},setShow:t}};var $=e=>{let{id:t,name:a,type:n="text",label:o,value:s,onChange:c}=e;return Object(d.jsxs)("div",{className:"form-floating mb-2 ",children:[Object(d.jsx)("input",{type:n,className:"form-control",id:t,name:a,value:s,onChange:c}),Object(d.jsx)("label",{htmlFor:t,children:o})]})};const z=Object(n.forwardRef)(((e,t)=>{let{id:a,name:n,options:o=[],value:s,onChange:c,className:i="",...l}=e;const r=Array.isArray(o)?o:[];return Object(d.jsxs)("div",{className:`form-floating mb-2 ${i}`,children:[Object(d.jsx)("select",{id:a,name:n,className:"form-control",value:s,onChange:c,ref:t,...l,children:r.map((e=>Object(d.jsx)("option",{value:e.value,children:e.label},e.value)))}),Object(d.jsx)("label",{htmlFor:a,children:l.label})]})}));z.defaultProps={value:"",onChange:()=>{},className:""};var M=z;var V=e=>{let{htmlFor:t,title:a,value:n,iconClass:o}=e;return Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("label",{className:"col-auto fw-bolder col-form-label fw-bold pe-1",htmlFor:t,children:[o&&Object(d.jsx)("i",{className:`bi me-2 bi-${o}`}),a]}),n&&Object(d.jsx)("span",{id:t,children:n})]})};class U{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.created=e.created?new Date(e.created):new Date,this.updated=e.updated?new Date(e.updated):new Date}toApiPayload(){return{created:this.created.toISOString(),updated:this.updated.toISOString()}}}class q extends U{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.id_cobranca=e.id_cobranca||"",this.descricao=e.descricao||"",this.valor=e.valor||0,this.data=e.data||new Date,this.pago=e.pago||!1,this.cliente_id=e.cliente_id||""}static fromApiResponse(e){return new q(e)}toApiPayload(){return{...super.toApiPayload(),id_cobranca:this.id_cobranca,descricao:this.descricao,valor:this.valor,data:this.data,pago:this.pago,cliente_id:this.cliente_id}}}class H extends U{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.id=e.id||"",this.nome=e.nome||"",this.documento=e.documento||"",this.telefone=e.telefone||"",this.endereco=e.endereco||"",this.usuarioId=e.usuarioId||"",this.cobrancas=this.initializeCobrancas(e.cobrancas)}initializeCobrancas(e){return Array.isArray(e)?e.map((e=>new q(e))):[]}static fromApiResponse(e){return new H(e)}toApiPayload(){return{...super.toApiPayload(),id:this.id,nome:this.nome,documento:this.documento,telefone:this.telefone,endereco:this.endereco,usuarioId:this.usuarioId,cobrancas:this.cobrancas.map((e=>e.toApiPayload()))}}}class G{async getClienteById(e){const t=await r(`cliente/${e}`,"GET");return t.success?H.fromApiResponse(t.data):null}async getAllClientes(){const e=await r("cliente","GET");return e.success?e.data.map((e=>H.fromApiResponse(e))):[]}async createCliente(e){const t=await r("cliente","POST",e);return t.success?H.fromApiResponse(t.data):null}async updateCliente(e,t){const a=await r(`cliente/${e}`,"PUT",t);return a.success?H.fromApiResponse(a.data):null}async deleteCliente(e){return(await r(`cliente/${e}`,"DELETE")).success}}var J=(e,t)=>{const[a,o]=Object(n.useState)({nome:"",telefone:"",tipo_cliente:"",descricao:"",endereco:""}),[s,c]=Object(n.useState)({}),i=e=>E(e),l=Object(n.useCallback)((async()=>{if(e)try{const t=await G.getCliente(e);if(t.sucesso){const e=H.fromApiResponse(t.data);o(e),c(e)}else i(t.message)}catch{i("Erro ao buscar cliente")}else i("ID do cliente n\xe3o fornecido")}),[e]);Object(n.useEffect)((()=>{e&&l()}),[e,l]);const r=e=>{const{name:t,value:a}=e.target;o((e=>({...e,[t]:a})))};return t?{handleSubmit:async()=>{const t=(e=>{let{nome:t,telefone:a,tipo_cliente:n}=e;const o=[];return t.trim()||o.push("Nome do cliente \xe9 obrigat\xf3rio."),a.trim()||o.push("Telefone \xe9 obrigat\xf3rio."),n.trim()||o.push("Tipo de cliente \xe9 obrigat\xf3rio."),o})(a);if(t.length>0)i(`Erro:\n${t.join("\n")}`);else try{const t=await G.updateCliente(e,a);t.sucesso?i("Cliente atualizado com sucesso!"):i(t.message)}catch{i("Erro ao atualizar cliente")}},renderForm:()=>Object(d.jsxs)("div",{children:[Object(d.jsx)($,{id:"nome",name:"nome",value:a.nome,label:"Nome do Cliente",onChange:r}),Object(d.jsx)($,{id:"telefone",name:"telefone",value:a.telefone,label:"Telefone",onChange:r,type:"tel"}),Object(d.jsx)(M,{id:"tipo_cliente",name:"tipo_cliente",value:a.tipo_cliente,label:"Tipo de Cliente",options:[{value:"Pessoa F\xedsica",label:"Pessoa F\xedsica"},{value:"Pessoa Jur\xeddica",label:"Pessoa Jur\xeddica"}],onChange:r}),Object(d.jsx)($,{id:"descricao",name:"descricao",value:a.descricao,label:"Descri\xe7\xe3o",onChange:r})]})}:{renderForm:()=>Object(d.jsxs)("div",{children:[Object(d.jsx)(V,{htmlFor:"nome",title:"Nome do Cliente:",value:s.nome||"",iconClass:"person"}),Object(d.jsx)(V,{htmlFor:"telefone",title:"Telefone:",value:s.telefone||"",iconClass:"telephone"}),Object(d.jsx)(V,{htmlFor:"tipo_cliente",title:"Tipo de Cliente:",value:s.tipo_cliente||"",iconClass:"tag"}),Object(d.jsx)(V,{htmlFor:"descricao",title:"Descri\xe7\xe3o:",value:s.descricao||"",iconClass:"info-circle"}),Object(d.jsx)(V,{htmlFor:"endereco",title:"Endere\xe7o:",value:s.endereco||"",iconClass:"house"})]})}};var W=e=>{const{CustomModal:t,setShow:a}=R(),[o,s]=Object(n.useState)(null),{renderForm:c}=J(o,!1);return{openModal:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return E("ID do cliente n\xe3o fornecido"),a(!1);s(e),a(t)},ClienteModalComponent:()=>Object(d.jsx)(t,{icon:"person",title:"Visualizar Cliente",children:c(),footer:Object(d.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm mx-auto",onClick:()=>a(!1),children:"Fechar"})})}};var Z=()=>{const{CustomModal:e,setShow:t}=R(),[a,o]=Object(n.useState)(""),[s,c]=Object(n.useState)(""),[i,l]=Object(n.useState)((()=>()=>{})),r=()=>{t(!1)},m=()=>{i(),r()};return{openModal:(e,a,n)=>{o(e),c(a),l((()=>n)),t(!0)},ConfirmationModalComponent:()=>Object(d.jsx)(e,{icon:"exclamation-triangle",title:a,children:Object(d.jsx)("p",{children:s}),footer:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm me-auto",onClick:r,children:"Cancelar"}),Object(d.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:m,children:"Confirmar"})]})})}};var K=()=>{const[e,t]=Object(n.useState)([]),a=Object(C.p)(),{openModal:o,ClienteModalComponent:s}=W(),{openModal:c,ConfirmationModalComponent:i}=Z(),l=Object(n.useCallback)((async()=>{try{const e=await G.getClientesByEmpresa();if(e.sucesso){const a=e.data.map((e=>H.fromApiResponse(e)));t(a)}else E(e.message)}catch(e){E("Erro ao buscar clientes",e)}}),[]);Object(n.useEffect)((()=>{l()}),[l]);const r=e.map((e=>({data:[e.nome,e.telefone],actions:[{name:"Editar",icon:"bi-pencil",type:"primary",onClick:()=>a(`/clientes/editar/${e.id_cliente}`)},{name:"Visualizar",icon:"bi-eye",type:"success",onClick:()=>o(e.id_cliente,!0)},{name:"Excluir",icon:"bi-trash",type:"danger",onClick:()=>(async e=>{c("Confirmar Exclus\xe3o","Voc\xea tem certeza que deseja excluir este cliente?",(async()=>{try{const a=await G.deleteCliente(e);a.sucesso?(t((t=>t.filter((t=>t.id_cliente!==e)))),E(a.message)):E(a.message,2,"id_msg")}catch(a){E("Erro ao excluir cliente",a,2,"id_msg")}}))})(e.id_cliente)}]}))),m={icon:"people",title:"Lista de Clientes",iconBtn:"plus",buttonText:"Criar Novo Cliente",onClickBtn:()=>a("/clientes/cadastrar")};return Object(d.jsxs)("div",{id:"id_msg",children:[Object(d.jsx)(F,{dataHeader:m,columns:["Nome","Telefone","A\xe7\xf5es"],rows:r}),Object(d.jsx)(s,{}),Object(d.jsx)(i,{})]})};var Q=()=>Object(d.jsx)("div",{});var X=function(e){let{cobrancaId:t,initialData:a,clienteId:o}=e;const[s,c]=Object(n.useState)({Descricao:(null===a||void 0===a?void 0:a.Descricao)||"",Valor:(null===a||void 0===a?void 0:a.Valor)||0,Data:null!==a&&void 0!==a&&a.Data?new Date(a.Data).toISOString().split("T")[0]:"",Pago:(null===a||void 0===a?void 0:a.Pago)||!1,ClienteId:o||(null===a||void 0===a?void 0:a.ClienteId)||""}),i=Object(C.p)(),l=e=>{const{name:t,value:a,type:n,checked:o}=e.target;c((e=>({...e,[t]:"checkbox"===n?o:a})))};return Object(d.jsx)("div",{className:"container my-5",children:Object(d.jsxs)("div",{className:"card justify-content-center",id:"ContainerFormulario",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsxs)("h1",{className:"fw-bolder mt-2 mb-1 fs-6 font-monospace",children:[Object(d.jsx)("span",{className:"bi bi-cash me-2"}),t?"Editar Cobran\xe7a":"Nova Cobran\xe7a"]})}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)(T.a,{controlId:"Descricao",className:"mb-2",label:"Descri\xe7\xe3o",children:Object(d.jsx)(D.a.Control,{type:"text",placeholder:"Descri\xe7\xe3o",name:"Descricao",value:s.Descricao,onChange:l})}),Object(d.jsx)(T.a,{controlId:"Valor",className:"mb-2",label:"Valor",children:Object(d.jsx)(D.a.Control,{type:"number",step:"0.01",placeholder:"Valor",name:"Valor",value:s.Valor,onChange:l})}),Object(d.jsx)(T.a,{controlId:"Data",className:"mb-2",label:"Data",children:Object(d.jsx)(D.a.Control,{type:"date",placeholder:"Data",name:"Data",value:s.Data,onChange:l})}),Object(d.jsx)(D.a.Check,{type:"checkbox",id:"Pago",label:"Pago",name:"Pago",checked:s.Pago,onChange:l})]}),Object(d.jsx)("div",{className:"d-flex justify-content-end card-footer",children:Object(d.jsx)(B.a,{variant:"primary",onClick:async()=>{s.Descricao&&s.Valor>=0&&s.Data&&s.ClienteId?await(async()=>{try{k(!0,"ContainerFormulario");const e=t?`public/cobrancas/${t}/`:"public/cobrancas/",a=t?"PUT":"POST",n=await r(e,a,s);n.success?(E(n.message,1),i("/cobrancas")):E(n.message,2)}catch(e){E("Erro ao salvar os dados. Por favor, tente novamente.",2)}finally{k(!1,"ContainerFormulario")}})():E("Por favor, preencha todos os campos obrigat\xf3rios e valide os dados.",2)},children:t?"Salvar":"Cadastrar"})})]})})};var Y=function(){};var ee=function(){};var te=function(){};var ae=function(){};var ne=function(){};var oe=()=>{const e=N();return Object(d.jsxs)(C.d,{children:[Object(d.jsx)(C.b,{path:"/",element:Object(d.jsx)(A,{})}),Object(d.jsx)(C.b,{path:"/login",element:Object(d.jsx)(A,{})}),Object(d.jsx)(C.b,{path:"/cadastro",element:Object(d.jsx)(I,{})}),Object(d.jsx)(C.b,{path:"/erro-interno",element:Object(d.jsx)(L,{title:"Erro Interno",descricao:"Ocorreu um erro interno no servidor. Tente novamente mais tarde."})}),Object(d.jsx)(C.b,{path:"*",element:Object(d.jsx)(L,{title:"P\xe1gina N\xe3o Encontrada",descricao:"A p\xe1gina que voc\xea est\xe1 procurando n\xe3o existe."})}),Object(d.jsx)(C.b,{path:"/cliente/",element:e?Object(d.jsx)(K,{}):Object(d.jsx)(C.a,{to:"/login"})}),Object(d.jsx)(C.b,{path:"/cliente/create/",element:e?Object(d.jsx)(P,{}):Object(d.jsx)(C.a,{to:"/login"})}),Object(d.jsx)(C.b,{path:"/cliente/edit/:id",element:e?Object(d.jsx)(P,{}):Object(d.jsx)(C.a,{to:"/login"})}),Object(d.jsx)(C.b,{path:"/cliente/view/:id",element:e?Object(d.jsx)(Q,{}):Object(d.jsx)(C.a,{to:"/login"})}),Object(d.jsx)(C.b,{path:"/cobranca/",element:e?Object(d.jsx)(ee,{}):Object(d.jsx)(C.a,{to:"/login"})}),Object(d.jsx)(C.b,{path:"/cobranca/edit/:id",element:e?Object(d.jsx)(X,{}):Object(d.jsx)(C.a,{to:"/login"})}),Object(d.jsx)(C.b,{path:"/cobranca/create/",element:e?Object(d.jsx)(X,{}):Object(d.jsx)(C.a,{to:"/login"})}),Object(d.jsx)(C.b,{path:"/cobranca/view/:id",element:e?Object(d.jsx)(Y,{}):Object(d.jsx)(C.a,{to:"/login"})}),Object(d.jsx)(C.b,{path:"/usuario/",element:e?Object(d.jsx)(ae,{}):Object(d.jsx)(C.a,{to:"/login"})}),Object(d.jsx)(C.b,{path:"/usuario/create/",element:e?Object(d.jsx)(te,{}):Object(d.jsx)(C.a,{to:"/login"})}),Object(d.jsx)(C.b,{path:"/usuario/edit/:id",element:e?Object(d.jsx)(te,{}):Object(d.jsx)(C.a,{to:"/login"})}),Object(d.jsx)(C.b,{path:"/usuario/view/:id",element:e?Object(d.jsx)(ne,{}):Object(d.jsx)(C.a,{to:"/login"})})]})};var se=()=>Object(d.jsx)(j,{children:Object(d.jsx)(s.a,{children:Object(d.jsx)(y,{children:Object(d.jsx)(oe,{})})})});a(46),a(47),a(48),a(49);const ce=document.getElementById("root");Object(o.createRoot)(ce).render(Object(d.jsx)(se,{}))}},[[50,1,2]]]);
//# sourceMappingURL=main.0236e24e.chunk.js.map