(this.webpackJsonpprojectlocalize=this.webpackJsonpprojectlocalize||[]).push([[0],{47:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a(24),s=a(9),c=a(4);const i=e=>{const t=document.cookie.split(";");for(let a of t){const[t,n]=a.split("=").map((e=>e.trim()));if(t===e)return n}return null},l=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n={path:"/",...n};const o=new Date;o.setTime(o.getTime()+60*a*1e3),n.expires=o.toUTCString(),n.expires instanceof Date&&(n.expires=n.expires.toUTCString());let s=encodeURIComponent(e)+"="+encodeURIComponent(t);for(let c in n){s+="; "+c;let e=n[c];!0!==e&&(s+="="+e)}document.cookie=s};var r=a(53);async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const n=`https://127.0.0.1:7020/api/${e.endsWith("/")?e:`${e}/`}`,o=i("authToken");return{success:!0,...(await Object(r.a)({url:n,method:t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},data:a,withCredentials:!0})).data}}catch(n){const e=function(e){const t={400:"Solicita\xe7\xe3o inv\xe1lida.",401:"N\xe3o autorizado.",403:"Acesso negado.",404:"Recurso n\xe3o encontrado.",500:"Erro interno do servidor."};return e.response?e.response.data.message||t[e.response.status]||"Erro na requisi\xe7\xe3o.":e.request?"Nenhuma resposta recebida do servidor.":e.message||"Erro ao configurar a requisi\xe7\xe3o."}(n);return{success:!1,message:e}}}var m=a(1);const b=Object(n.createContext)(),j=()=>Object(n.useContext)(b),u=e=>{let{children:t}=e;const[a,o]=Object(n.useState)("true"===i("authentication")),s=async()=>{try{(await d("public/CheckAuthentication/")).authenticated?(l("authentication","true"),o(!0)):(l("authentication","false"),o(!1))}catch(e){console.error("Erro ao verificar autentica\xe7\xe3o:",e),l("authentication","false"),o(!1)}};return Object(n.useEffect)((()=>{s()}),[]),Object(m.jsx)(b.Provider,{value:{isAuthenticated:a,checkAuthentication:s,setIsAuthenticated:o},children:t})},h=e=>{let{name:t,text:a}=e;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("i",{className:`bi bi-${t}`}),a&&Object(m.jsx)("span",{className:"ms-1",children:a})]})},x=()=>Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{className:"text-center d-inline-flex col-auto",children:Object(m.jsx)(s.b,{className:"nav-link text-decoration-none text-white nav-link-icon px-0 align-items-center",to:"/login",children:Object(m.jsx)(h,{name:"box-arrow-in-right",text:"Login"})})}),Object(m.jsx)("li",{className:"text-center d-inline-flex col-auto",children:Object(m.jsx)(s.b,{className:"nav-link text-decoration-none text-white nav-link-icon px-0 align-items-center",to:"/cadastro",children:Object(m.jsx)(h,{name:"pencil-square",text:"Cadastro"})})})]}),p=e=>{let{onLogout:t}=e;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{className:"d-inline-flex col-auto",children:Object(m.jsx)(s.b,{className:"nav-link",to:"/cliente",children:Object(m.jsx)(h,{name:"people",text:"Clientes"})})}),Object(m.jsx)("li",{className:"d-inline-flex col-auto",children:Object(m.jsx)(s.b,{className:"nav-link nav-link-icon",to:"/cobranca",children:Object(m.jsx)(h,{name:"cash-stack",text:"Cobran\xe7as"})})}),Object(m.jsx)("li",{className:"d-inline-flex col-auto",children:Object(m.jsx)("button",{className:"nav-link text-decoration-none text-white bg-transparent border-0",onClick:t,children:Object(m.jsx)(h,{name:"box-arrow-right",text:"Sair"})})})]})};var O=()=>{const{isAuthenticated:e,setIsAuthenticated:t}=j(),a=Object(c.p)();Object(n.useEffect)((()=>{const e=i("menuState"),t=document.getElementById("navbarNav"),a=document.getElementById("menuIcon");"visible"===e?(t.classList.remove("d-none"),a.classList.remove("bi-box-arrow-down"),a.classList.add("bi-box-arrow-in-up")):(t.classList.add("d-none"),a.classList.remove("bi-box-arrow-in-up"),a.classList.add("bi-box-arrow-down"))}),[]);return Object(m.jsx)("nav",{className:"navbar-expand-md navbar-dark pt-3 pb-2 font-montserrat",style:{background:"#0D1B2A"},children:Object(m.jsxs)("div",{className:"p-0 m-0 mx-auto container-xl row",children:[Object(m.jsxs)("div",{className:"p-0 m-0 col-12 container justify-content-between row align-items-center",children:[Object(m.jsx)(s.b,{className:"col text-sm-center text-start text-decoration-none",to:"/",children:Object(m.jsx)("p",{className:"mb-2 text-white",style:{fontSize:"20px"},children:"Localize Project"})}),Object(m.jsx)("button",{className:"btn text-white col-auto d-inline-flex ms-auto d-sm-none",type:"button",onClick:()=>{const e=document.getElementById("navbarNav"),t=document.getElementById("menuIcon");e.classList.contains("d-none")?(e.classList.remove("d-none"),t.classList.remove("bi-box-arrow-down"),t.classList.add("bi-box-arrow-in-up"),l("menuState","visible")):(e.classList.add("d-none"),t.classList.remove("bi-box-arrow-in-up"),t.classList.add("bi-box-arrow-down"),l("menuState","hidden"))},children:Object(m.jsx)("span",{className:"bi bi-box-arrow-in-up",id:"menuIcon",style:{fontSize:"20px"}})})]}),Object(m.jsx)("div",{className:"col-12 d-sm-block d-none",id:"navbarNav",children:Object(m.jsx)("ul",{className:"text-decoration-none text-center text-white my-2 row mx-auto mx-sm-0 col-auto container-xl font-monospace text-center text-sm-end justify-content-center align-items-center",children:e?Object(m.jsx)(p,{onLogout:()=>{t("false"),l("authToken",""),l("authentication","false"),a("/login")}}):Object(m.jsx)(x,{})})})]})})};var f=e=>{let{children:t}=e;return Object(m.jsxs)("div",{id:"content",children:[Object(m.jsx)("div",{id:"id_alert_container",className:"container mx-auto"}),t]})};var v=()=>Object(m.jsx)("footer",{className:"footer",style:{background:"#0D1B2A"},children:Object(m.jsx)("div",{className:"font-montserrat  redound-3 px-3 text-center d-flex-inline",children:Object(m.jsxs)("p",{className:"m-0 p-0 text-white rounded ",style:{fontSize:"0.8rem"},children:["Software Desenvolvido por ",Object(m.jsx)("a",{className:"text-white",href:"https://br.linkedin.com/in/samuelmedeirosbc",target:"blank",children:"@Samuel Medeiros"}),"."]})})});var g=e=>{let{children:t}=e;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"container-fluid m-0 p-0 wrapper  ",style:{background:"#f5f7fa"},children:Object(m.jsxs)("div",{className:"wrapper",children:[Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)(O,{}),Object(m.jsx)(f,{children:t})]}),Object(m.jsxs)("div",{className:"footer",children:[Object(m.jsx)("div",{className:"custom-shape-divider-bottom-1708368458 mt-3",style:{marginBottom:"-2px"},children:Object(m.jsx)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:Object(m.jsx)("path",{d:"M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z",className:"shape-fill"})})}),Object(m.jsx)(v,{})]})]})})})},y=a(31);function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null===t?function(e,t,a){let n=document.querySelector(".toast-container");n||(n=document.createElement("div"),n.classList.add("toast-container","position-fixed","top-0","end-0","p-3"),document.body.appendChild(n));const o=document.createElement("div");o.classList.add("toast"),o.setAttribute("role","alert"),o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true");const s=document.createElement("div");s.classList.add("toast-header");const c=document.createElement("strong");c.classList.add("me-auto","Font-Gliker","fw-bold"),c.innerText="{ C P S }";const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("btn-close"),i.setAttribute("data-bs-dismiss","toast"),i.setAttribute("aria-label","Close");const l=document.createElement("div");l.classList.add("toast-body","bg-white","rounded-bottom","shadow-lg"),l.innerText=e,l.style.whiteSpace="normal",l.style.wordWrap="break-word",s.appendChild(c),s.appendChild(i),o.appendChild(s),o.appendChild(l),n.appendChild(o),y.a.Toast(o).show(),setTimeout((()=>{n.removeChild(o)}),a)}(e,0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:18e4):function(e,t,a){const n=document.getElementById(a)||document.getElementById("id_alert_container");if(!n)return;const o=n.querySelector(".alert");o&&n.removeChild(o);const s={1:{class:"alert-success",icon:"bi-check-circle-fill"},2:{class:"alert-danger",icon:"bi-exclamation-circle-fill"},3:{class:"alert-warning",icon:"bi-exclamation-triangle-fill"},default:{class:"alert-info",icon:"bi-info-circle-fill"}},{class:c,icon:i}=s[e]||s.default,l=document.createElement("div");l.classList.add("alert",c,"alert-dismissible","fade","show","mt-2","mx-2","bt-2"),l.setAttribute("role","alert"),l.style.whiteSpace="normal",l.style.wordWrap="break-word";const r=document.createElement("button");r.classList.add("btn-close"),r.setAttribute("type","button"),r.setAttribute("data-bs-dismiss","alert"),r.setAttribute("aria-label","Close"),l.appendChild(r);const d=document.createElement("span");d.classList.add("bi",i),d.setAttribute("aria-hidden","true"),l.appendChild(d),l.appendChild(document.createTextNode(" "+t)),n.insertBefore(l,n.firstChild)}(t,e,a)}function N(e,t){let a=null;if("string"===typeof t){if(a=document.getElementById(t),!a)return void console.error(`Container com ID '${t}' n\xe3o encontrado.`)}else{if(!(t instanceof HTMLElement))return void console.error("Tipo inv\xe1lido para o container. Deve ser uma string (ID do elemento) ou HTMLElement.");a=t}const n=`${a.id}-loading`;if(!0===e){a.style.display="none";const e=document.createElement("div");e.id=n,e.classList.add("loading","d-flex","justify-content-center","align-items-center","text-primary"),e.style.minHeight="200px",e.style.width="100%";const t=document.createElement("div");t.classList.add("spinner-border"),t.setAttribute("role","status");const o=document.createElement("span");o.classList.add("visually-hidden"),o.textContent="Loading...",t.appendChild(o),e.appendChild(t),a.insertAdjacentElement("afterend",e)}else if(!1===e){const e=document.getElementById(n);e&&e.remove(),a.style.display=""}}var w=e=>{let{headerIcon:t,headerTitle:a,formBody:n,footerLeftButtonText:o,footerLeftButtonAction:s,footerRightButtonText:c,footerRightButtonAction:i,isDark:l=!1}=e;return Object(m.jsx)("div",{className:"container   my-3",style:{maxWidth:"500px"},children:Object(m.jsxs)("div",{className:"card "+(l?"bg-dark":""),children:[Object(m.jsxs)("div",{className:"card-header d-flex align-items-center border-bottom "+(l?"bg-dark text-white":""),children:[Object(m.jsx)("i",{className:`bi bi-${t} fs-5 me-2 ${l?"text-white":"text-dark"}`}),Object(m.jsx)("p",{className:"fs-5 font-monospace fw-bold mb-0 "+(l?"text-white":"text-dark"),children:a})]}),Object(m.jsx)("form",{className:"container card-body "+(l?"bg-dark text-white":""),id:"formulario",children:n}),Object(m.jsxs)("div",{className:`card-footer d-flex justify-content-${i?"between":"center"} ${l?"bg-dark":""}`,children:[Object(m.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:s,children:o}),i&&Object(m.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:i,children:c})]})]})})};var k=()=>{const{setIsAuthenticated:e}=j(),[t,a]=Object(n.useState)(""),[o,s]=Object(n.useState)(""),i=Object(c.p)();return Object(m.jsx)("div",{id:"form_login",className:"container mx-auto",children:Object(m.jsx)(w,{headerIcon:"person",headerTitle:"Acessar Conta",isDark:!1,formBody:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"form-floating mb-2",children:[Object(m.jsx)("input",{type:"email",className:"form-control",autoComplete:"off",value:t,onChange:e=>a(e.target.value)}),Object(m.jsx)("label",{htmlFor:"email",children:"E-mail"})]}),Object(m.jsxs)("div",{className:"form-floating mb-2",children:[Object(m.jsx)("input",{type:"password",className:"form-control",autoComplete:"off",id:"senha",name:"senha",value:o,onChange:e=>s(e.target.value)}),Object(m.jsx)("label",{htmlFor:"senha",children:"Senha"})]})]}),footerLeftButtonText:"Cadastre-se",footerLeftButtonAction:()=>{i("/cadastro")},footerRightButtonText:"Entrar",footerRightButtonAction:async()=>{if(""!==t.trim()&&""!==o.trim())try{N(!0,"form_login");const a=await d("public/login/","POST",{email:t,senha:o});a.success?(l("authToken",a.token,{expires:1}),l("authentication","true"),e("true"),i("/cliente")):C(a.message,2,"form_login")}catch(a){C(a.message||"Erro ao fazer login",2,"form_login")}finally{N(!1,"form_login")}else C("Preencha todos os campos!",2)}})})},E=a(25),S=a(54);var A=()=>{const[e,t]=Object(n.useState)({nome:"",email:"",senha:""}),a=Object(c.p)(),o=e=>{const{name:a,value:n}=e.target;t((e=>({...e,[a]:n})))};return Object(m.jsx)("form",{id:"form",className:"form-signin container mx-auto my-2",children:Object(m.jsx)(w,{headerIcon:"person",headerTitle:"Cadastro Usu\xe1rio",formBody:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(E.a,{controlId:"nome",className:"mb-2",label:"Nome",children:Object(m.jsx)(S.a.Control,{type:"text",placeholder:"Nome",name:"nome",value:e.nome,onChange:o})}),Object(m.jsx)(E.a,{controlId:"email",className:"mb-2",label:"E-mail",children:Object(m.jsx)(S.a.Control,{type:"email",placeholder:"E-mail",name:"email",value:e.email,onChange:o})}),Object(m.jsx)(E.a,{controlId:"senha",className:"mb-2",label:"Senha",children:Object(m.jsx)(S.a.Control,{type:"password",placeholder:"Senha",name:"senha",value:e.senha,onChange:o})})]}),footerLeftButtonText:"Limpar",footerLeftButtonAction:()=>{t({nome:"",email:"",senha:""})},footerRightButtonText:"Cadastrar",footerRightButtonAction:async()=>{e.nome&&e.email&&e.senha?await(async()=>{const{nome:t,email:n,senha:o}=e;try{N(!0,"form");const e=await d("public/Cadastro/","POST",{nome:t,email:n,senha:o});!0===e.success?(C(e.message,1),a("/login")):C(e.message,2)}catch(s){C("Erro ao registrar. Por favor, tente novamente.",2)}finally{N(!1,"form")}})():C("Por favor, preencha todos os campos obrigat\xf3rios.",2)}})})};var T=()=>{const e=Object(c.n)(),t=new URLSearchParams(e.search),a=t.get("title")||"Ocorreu um erro!",n=t.get("descricao")||"Desculpe-nos pelo inconveniente.",o=t.get("urlRedirect")||"";return Object(m.jsx)("div",{className:"px-3",children:Object(m.jsxs)("div",{className:"container-erro my-4 container  justify-content-between align-items-center text-center mx-0 mx-sm-auto",children:[Object(m.jsx)("h1",{className:"h1-erro",children:a}),Object(m.jsx)("p",{className:"p-erro",children:n}),o&&Object(m.jsx)("a",{href:o,className:"btn btn-primary",children:"Voltar"}),Object(m.jsx)("p",{children:"Por favor, tente novamente mais tarde ou entre em contato conosco para obter assist\xeancia."})]})})},I=a(55);var D=function(e){let{clienteId:t,initialData:a}=e;const[o,s]=Object(n.useState)({Nome:(null===a||void 0===a?void 0:a.Nome)||"",Documento:(null===a||void 0===a?void 0:a.Documento)||"",Telefone:(null===a||void 0===a?void 0:a.Telefone)||"",Endereco:(null===a||void 0===a?void 0:a.Endereco)||"",UsuarioId:(null===a||void 0===a?void 0:a.UsuarioId)||""}),i=Object(c.p)(),l=e=>{const{name:t,value:a}=e.target;s((e=>({...e,[t]:a})))};return Object(m.jsx)("div",{className:"container my-5",children:Object(m.jsxs)("div",{className:"card justify-content-center",id:"ContainerFormulario",children:[Object(m.jsx)("div",{className:"card-header",children:Object(m.jsxs)("h1",{className:"fw-bolder mt-2 mb-1 fs-6 font-monospace",children:[Object(m.jsx)("span",{className:"bi bi-person me-2"}),t?"Editar Cliente":"Novo Cliente"]})}),Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)(E.a,{controlId:"Nome",className:"mb-2",label:"Nome",children:Object(m.jsx)(S.a.Control,{type:"text",placeholder:"Nome",name:"Nome",value:o.Nome,onChange:l})}),Object(m.jsx)(E.a,{controlId:"Documento",className:"mb-2",label:"Documento",children:Object(m.jsx)(S.a.Control,{type:"text",placeholder:"Documento",name:"Documento",value:o.Documento,onChange:l})}),Object(m.jsx)(E.a,{controlId:"Telefone",className:"mb-2",label:"Telefone",children:Object(m.jsx)(S.a.Control,{type:"text",placeholder:"Telefone",name:"Telefone",value:o.Telefone,onChange:l})}),Object(m.jsx)(E.a,{controlId:"Endereco",className:"mb-2",label:"Endere\xe7o",children:Object(m.jsx)(S.a.Control,{type:"text",placeholder:"Endere\xe7o",name:"Endereco",value:o.Endereco,onChange:l})})]}),Object(m.jsx)("div",{className:"d-flex justify-content-end card-footer",children:Object(m.jsx)(I.a,{variant:"primary",onClick:async()=>{o.Nome&&o.Documento&&o.Telefone&&o.Endereco?await(async()=>{try{N(!0,"ContainerFormulario");const e=t?`public/clientes/${t}/`:"public/clientes/",a=t?"PUT":"POST",n=await d(e,a,o);n.success?(C(n.message,1),i("/clientes")):C(n.message,2)}catch(e){C("Erro ao salvar os dados. Por favor, tente novamente.",2)}finally{N(!1,"ContainerFormulario")}})():C("Por favor, preencha todos os campos obrigat\xf3rios.",2)},children:t?"Salvar":"Cadastrar"})})]})})};var L=e=>{let{dataHeader:t,columns:a,rows:n}=e;return Object(m.jsxs)("div",{className:"my-3 container p-1",children:[Object(m.jsxs)("div",{className:"d-flex container justify-content-between mb-2 row container mx-auto p-1",children:[Object(m.jsxs)("h1",{className:"text-start col",style:{fontSize:"1.0rem"},children:[Object(m.jsx)("i",{className:`bi bi-${t.icon}-fill`})," ",t.title]}),Object(m.jsxs)("button",{onClick:t.onClickBtn,type:"button",className:"btn btn-success btn-sm col-auto mx-auto me-sm-2",style:{fontSize:"0.8rem"},children:[Object(m.jsx)("i",{className:`bi bi-${t.iconBtn} me-1`,style:{fontSize:"0.8rem"}}),t.buttonText]})]}),Object(m.jsx)("div",{className:"container p-3 mx-auto bg-dark rounded",children:Object(m.jsx)("div",{className:"table-responsive",children:Object(m.jsxs)("table",{className:"table table-hover table-sm table-dark",children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{className:"font-monospace",style:{fontSize:"0.8rem"},children:a.map(((e,t)=>Object(m.jsx)("th",{scope:"col",className:""+(0===t?"text-start":t===a.length-1?"text-end":"text-center"),children:e},t)))})}),Object(m.jsx)("tbody",{className:"table-group-divider",children:n.map(((e,t)=>Object(m.jsxs)("tr",{className:"font-monospace",style:{fontSize:"0.8rem"},children:[e.data.map(((e,t)=>Object(m.jsx)("td",{className:(0===t?"text-start":"text-center")+" align-middle",children:e},t))),Object(m.jsx)("td",{className:"text-end align-middle",children:Object(m.jsx)("div",{className:"btn-group-sm btn-group",role:"group","aria-label":"A\xe7\xf5es",children:e.actions.map(((e,t)=>Object(m.jsx)("button",{type:"button",className:`btn btn-${e.type} btn-sm`,onClick:e.onClick,title:e.name,children:Object(m.jsx)("i",{className:e.icon})},t)))})})]},t)))})]})})})]})},B=a(52);const P=()=>{const[e,t]=Object(n.useState)(!1);return{CustomModal:a=>{let{icon:n,title:o,children:s,footer:c}=a;return Object(m.jsxs)(B.a,{show:e,backdrop:"static",keyboard:!1,contentClassName:"bg-light",dialogClassName:"modal-md modal-dialog-centered  modal-dialog-scrollable  ","aria-labelledby":"staticBackdropLabel",children:[Object(m.jsxs)(B.a.Header,{className:"text-dark py-2",children:[Object(m.jsxs)("h5",{id:"staticBackdropLabel",className:"modal-title fs-5 font-monospace text-black fw-bolder",children:[Object(m.jsx)("i",{className:`me-2 bi bi-${n}`}),o]}),Object(m.jsx)(I.a,{variant:"link",onClick:()=>t(!1),className:"ms-auto mt-0 p-0",style:{textDecoration:"none",color:"black"},children:Object(m.jsx)("i",{className:"bi bi-x fw-bold",style:{fontSize:"25px"}})})]}),Object(m.jsx)(B.a.Body,{className:"text-dark",children:s}),Object(m.jsx)(B.a.Footer,{className:"text-dark py-2 d-flex  justify-content-between",children:c})]})},setShow:t}};var _=e=>{let{id:t,name:a,type:n="text",label:o,value:s,onChange:c}=e;return Object(m.jsxs)("div",{className:"form-floating mb-2 ",children:[Object(m.jsx)("input",{type:n,className:"form-control",id:t,name:a,value:s,onChange:c}),Object(m.jsx)("label",{htmlFor:t,children:o})]})};const F=Object(n.forwardRef)(((e,t)=>{let{id:a,name:n,options:o=[],value:s,onChange:c,className:i="",...l}=e;const r=Array.isArray(o)?o:[];return Object(m.jsxs)("div",{className:`form-floating mb-2 ${i}`,children:[Object(m.jsx)("select",{id:a,name:n,className:"form-control",value:s,onChange:c,ref:t,...l,children:r.map((e=>Object(m.jsx)("option",{value:e.value,children:e.label},e.value)))}),Object(m.jsx)("label",{htmlFor:a,children:l.label})]})}));F.defaultProps={value:"",onChange:()=>{},className:""};var $=F;var z=e=>{let{htmlFor:t,title:a,value:n,iconClass:o}=e;return Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsxs)("label",{className:"col-auto fw-bolder col-form-label fw-bold pe-1",htmlFor:t,children:[o&&Object(m.jsx)("i",{className:`bi me-2 bi-${o}`}),a]}),n&&Object(m.jsx)("span",{id:t,children:n})]})};class R{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.created=e.created?new Date(e.created):new Date,this.updated=e.updated?new Date(e.updated):new Date}toApiPayload(){return{created:this.created.toISOString(),updated:this.updated.toISOString()}}}class M extends R{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.id_cobranca=e.id_cobranca||"",this.descricao=e.descricao||"",this.valor=e.valor||0,this.data=e.data||new Date,this.pago=e.pago||!1,this.cliente_id=e.cliente_id||""}static fromApiResponse(e){return new M(e)}toApiPayload(){return{...super.toApiPayload(),id_cobranca:this.id_cobranca,descricao:this.descricao,valor:this.valor,data:this.data,pago:this.pago,cliente_id:this.cliente_id}}}class V extends R{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.id=e.id||"",this.nome=e.nome||"",this.documento=e.documento||"",this.telefone=e.telefone||"",this.endereco=e.endereco||"",this.usuarioId=e.usuarioId||"",this.cobrancas=this.initializeCobrancas(e.cobrancas)}initializeCobrancas(e){return Array.isArray(e)?e.map((e=>new M(e))):[]}static fromApiResponse(e){return new V(e)}toApiPayload(){return{...super.toApiPayload(),id:this.id,nome:this.nome,documento:this.documento,telefone:this.telefone,endereco:this.endereco,usuarioId:this.usuarioId,cobrancas:this.cobrancas.map((e=>e.toApiPayload()))}}}class U{async getClienteById(e){const t=await d(`cliente/${e}`,"GET");return t.success?V.fromApiResponse(t.data):null}async getAllClientes(){const e=await d("cliente","GET");return e.success?e.data.map((e=>V.fromApiResponse(e))):[]}async createCliente(e){const t=await d("cliente","POST",e);return t.success?V.fromApiResponse(t.data):null}async updateCliente(e,t){const a=await d(`cliente/${e}`,"PUT",t);return a.success?V.fromApiResponse(a.data):null}async deleteCliente(e){return(await d(`cliente/${e}`,"DELETE")).success}}var q=(e,t)=>{const[a,o]=Object(n.useState)({nome:"",telefone:"",tipo_cliente:"",descricao:"",endereco:""}),[s,c]=Object(n.useState)({}),i=e=>C(e),l=Object(n.useCallback)((async()=>{if(e)try{const t=await U.getCliente(e);if(t.sucesso){const e=V.fromApiResponse(t.data);o(e),c(e)}else i(t.message)}catch{i("Erro ao buscar cliente")}else i("ID do cliente n\xe3o fornecido")}),[e]);Object(n.useEffect)((()=>{e&&l()}),[e,l]);const r=e=>{const{name:t,value:a}=e.target;o((e=>({...e,[t]:a})))};return t?{handleSubmit:async()=>{const t=(e=>{let{nome:t,telefone:a,tipo_cliente:n}=e;const o=[];return t.trim()||o.push("Nome do cliente \xe9 obrigat\xf3rio."),a.trim()||o.push("Telefone \xe9 obrigat\xf3rio."),n.trim()||o.push("Tipo de cliente \xe9 obrigat\xf3rio."),o})(a);if(t.length>0)i(`Erro:\n${t.join("\n")}`);else try{const t=await U.updateCliente(e,a);t.sucesso?i("Cliente atualizado com sucesso!"):i(t.message)}catch{i("Erro ao atualizar cliente")}},renderForm:()=>Object(m.jsxs)("div",{children:[Object(m.jsx)(_,{id:"nome",name:"nome",value:a.nome,label:"Nome do Cliente",onChange:r}),Object(m.jsx)(_,{id:"telefone",name:"telefone",value:a.telefone,label:"Telefone",onChange:r,type:"tel"}),Object(m.jsx)($,{id:"tipo_cliente",name:"tipo_cliente",value:a.tipo_cliente,label:"Tipo de Cliente",options:[{value:"Pessoa F\xedsica",label:"Pessoa F\xedsica"},{value:"Pessoa Jur\xeddica",label:"Pessoa Jur\xeddica"}],onChange:r}),Object(m.jsx)(_,{id:"descricao",name:"descricao",value:a.descricao,label:"Descri\xe7\xe3o",onChange:r})]})}:{renderForm:()=>Object(m.jsxs)("div",{children:[Object(m.jsx)(z,{htmlFor:"nome",title:"Nome do Cliente:",value:s.nome||"",iconClass:"person"}),Object(m.jsx)(z,{htmlFor:"telefone",title:"Telefone:",value:s.telefone||"",iconClass:"telephone"}),Object(m.jsx)(z,{htmlFor:"tipo_cliente",title:"Tipo de Cliente:",value:s.tipo_cliente||"",iconClass:"tag"}),Object(m.jsx)(z,{htmlFor:"descricao",title:"Descri\xe7\xe3o:",value:s.descricao||"",iconClass:"info-circle"}),Object(m.jsx)(z,{htmlFor:"endereco",title:"Endere\xe7o:",value:s.endereco||"",iconClass:"house"})]})}};var H=e=>{const{CustomModal:t,setShow:a}=P(),[o,s]=Object(n.useState)(null),{renderForm:c}=q(o,!1);return{openModal:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return C("ID do cliente n\xe3o fornecido"),a(!1);s(e),a(t)},ClienteModalComponent:()=>Object(m.jsx)(t,{icon:"person",title:"Visualizar Cliente",children:c(),footer:Object(m.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm mx-auto",onClick:()=>a(!1),children:"Fechar"})})}};var G=()=>{const{CustomModal:e,setShow:t}=P(),[a,o]=Object(n.useState)(""),[s,c]=Object(n.useState)(""),[i,l]=Object(n.useState)((()=>()=>{})),r=()=>{t(!1)},d=()=>{i(),r()};return{openModal:(e,a,n)=>{o(e),c(a),l((()=>n)),t(!0)},ConfirmationModalComponent:()=>Object(m.jsx)(e,{icon:"exclamation-triangle",title:a,children:Object(m.jsx)("p",{children:s}),footer:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm me-auto",onClick:r,children:"Cancelar"}),Object(m.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:d,children:"Confirmar"})]})})}};var J=()=>{const[e,t]=Object(n.useState)([]),a=Object(c.p)(),{openModal:o,ClienteModalComponent:s}=H(),{openModal:i,ConfirmationModalComponent:l}=G(),r=Object(n.useCallback)((async()=>{try{const e=await U.getClientesByEmpresa();if(e.sucesso){const a=e.data.map((e=>V.fromApiResponse(e)));t(a)}else C(e.message,3,"id_msg")}catch(e){C("Erro ao buscar clientes"+e,2,"id_msg")}}),[]);Object(n.useEffect)((()=>{r()}),[r]);const d=e.map((e=>({data:[e.nome,e.telefone],actions:[{name:"Editar",icon:"bi-pencil",type:"primary",onClick:()=>a(`/clientes/editar/${e.id_cliente}`)},{name:"Visualizar",icon:"bi-eye",type:"success",onClick:()=>o(e.id_cliente,!0)},{name:"Excluir",icon:"bi-trash",type:"danger",onClick:()=>(async e=>{i("Confirmar Exclus\xe3o","Voc\xea tem certeza que deseja excluir este cliente?",(async()=>{try{const a=await U.deleteCliente(e);a.sucesso?(t((t=>t.filter((t=>t.id_cliente!==e)))),C(a.message)):C(a.message,2,"id_msg")}catch(a){C("Erro ao excluir cliente"+a,2,"id_msg")}}))})(e.id_cliente)}]}))),b={icon:"people",title:"Lista de Clientes",iconBtn:"plus",buttonText:"Criar Novo Cliente",onClickBtn:()=>a("/clientes/cadastrar")};return Object(m.jsxs)("div",{id:"id_msg",children:[Object(m.jsx)(L,{dataHeader:b,columns:["Nome","Telefone","A\xe7\xf5es"],rows:d}),Object(m.jsx)(s,{}),Object(m.jsx)(l,{})]})};var W=()=>Object(m.jsx)("div",{});var Z=function(e){let{cobrancaId:t,initialData:a,clienteId:o}=e;const[s,i]=Object(n.useState)({Descricao:(null===a||void 0===a?void 0:a.Descricao)||"",Valor:(null===a||void 0===a?void 0:a.Valor)||0,Data:null!==a&&void 0!==a&&a.Data?new Date(a.Data).toISOString().split("T")[0]:"",Pago:(null===a||void 0===a?void 0:a.Pago)||!1,ClienteId:o||(null===a||void 0===a?void 0:a.ClienteId)||""}),l=Object(c.p)(),r=e=>{const{name:t,value:a,type:n,checked:o}=e.target;i((e=>({...e,[t]:"checkbox"===n?o:a})))};return Object(m.jsx)("div",{className:"container my-5",children:Object(m.jsxs)("div",{className:"card justify-content-center",id:"ContainerFormulario",children:[Object(m.jsx)("div",{className:"card-header",children:Object(m.jsxs)("h1",{className:"fw-bolder mt-2 mb-1 fs-6 font-monospace",children:[Object(m.jsx)("span",{className:"bi bi-cash me-2"}),t?"Editar Cobran\xe7a":"Nova Cobran\xe7a"]})}),Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)(E.a,{controlId:"Descricao",className:"mb-2",label:"Descri\xe7\xe3o",children:Object(m.jsx)(S.a.Control,{type:"text",placeholder:"Descri\xe7\xe3o",name:"Descricao",value:s.Descricao,onChange:r})}),Object(m.jsx)(E.a,{controlId:"Valor",className:"mb-2",label:"Valor",children:Object(m.jsx)(S.a.Control,{type:"number",step:"0.01",placeholder:"Valor",name:"Valor",value:s.Valor,onChange:r})}),Object(m.jsx)(E.a,{controlId:"Data",className:"mb-2",label:"Data",children:Object(m.jsx)(S.a.Control,{type:"date",placeholder:"Data",name:"Data",value:s.Data,onChange:r})}),Object(m.jsx)(S.a.Check,{type:"checkbox",id:"Pago",label:"Pago",name:"Pago",checked:s.Pago,onChange:r})]}),Object(m.jsx)("div",{className:"d-flex justify-content-end card-footer",children:Object(m.jsx)(I.a,{variant:"primary",onClick:async()=>{s.Descricao&&s.Valor>=0&&s.Data&&s.ClienteId?await(async()=>{try{N(!0,"ContainerFormulario");const e=t?`public/cobrancas/${t}/`:"public/cobrancas/",a=t?"PUT":"POST",n=await d(e,a,s);n.success?(C(n.message,1),l("/cobrancas")):C(n.message,2)}catch(e){C("Erro ao salvar os dados. Por favor, tente novamente.",2)}finally{N(!1,"ContainerFormulario")}})():C("Por favor, preencha todos os campos obrigat\xf3rios e valide os dados.",2)},children:t?"Salvar":"Cadastrar"})})]})})};var K=function(){};var Q=function(){};var X=function(){};var Y=function(){};var ee=function(){};var te=()=>{const{isAuthenticated:e}=j();return Object(m.jsxs)(c.d,{children:[Object(m.jsx)(c.b,{path:"/",element:Object(m.jsx)(k,{})}),Object(m.jsx)(c.b,{path:"/login",element:Object(m.jsx)(k,{})}),Object(m.jsx)(c.b,{path:"/cadastro",element:Object(m.jsx)(A,{})}),Object(m.jsx)(c.b,{path:"/erro-interno",element:Object(m.jsx)(T,{title:"Erro Interno",descricao:"Ocorreu um erro interno no servidor. Tente novamente mais tarde."})}),Object(m.jsx)(c.b,{path:"*",element:Object(m.jsx)(T,{title:"P\xe1gina N\xe3o Encontrada",descricao:"A p\xe1gina que voc\xea est\xe1 procurando n\xe3o existe."})}),Object(m.jsx)(c.b,{path:"/cliente/",element:e?Object(m.jsx)(J,{}):Object(m.jsx)(c.a,{to:"/login"})}),Object(m.jsx)(c.b,{path:"/cliente/create/",element:e?Object(m.jsx)(D,{}):Object(m.jsx)(c.a,{to:"/login"})}),Object(m.jsx)(c.b,{path:"/cliente/edit/:id",element:e?Object(m.jsx)(D,{}):Object(m.jsx)(c.a,{to:"/login"})}),Object(m.jsx)(c.b,{path:"/cliente/view/:id",element:e?Object(m.jsx)(W,{}):Object(m.jsx)(c.a,{to:"/login"})}),Object(m.jsx)(c.b,{path:"/cobranca/",element:e?Object(m.jsx)(Q,{}):Object(m.jsx)(c.a,{to:"/login"})}),Object(m.jsx)(c.b,{path:"/cobranca/edit/:id",element:e?Object(m.jsx)(Z,{}):Object(m.jsx)(c.a,{to:"/login"})}),Object(m.jsx)(c.b,{path:"/cobranca/create/",element:e?Object(m.jsx)(Z,{}):Object(m.jsx)(c.a,{to:"/login"})}),Object(m.jsx)(c.b,{path:"/cobranca/view/:id",element:e?Object(m.jsx)(K,{}):Object(m.jsx)(c.a,{to:"/login"})}),Object(m.jsx)(c.b,{path:"/usuario/",element:e?Object(m.jsx)(Y,{}):Object(m.jsx)(c.a,{to:"/login"})}),Object(m.jsx)(c.b,{path:"/usuario/create/",element:e?Object(m.jsx)(X,{}):Object(m.jsx)(c.a,{to:"/login"})}),Object(m.jsx)(c.b,{path:"/usuario/edit/:id",element:e?Object(m.jsx)(X,{}):Object(m.jsx)(c.a,{to:"/login"})}),Object(m.jsx)(c.b,{path:"/usuario/view/:id",element:e?Object(m.jsx)(ee,{}):Object(m.jsx)(c.a,{to:"/login"})})]})};var ae=()=>Object(m.jsx)(u,{children:Object(m.jsx)(s.a,{children:Object(m.jsx)(g,{children:Object(m.jsx)(te,{})})})});a(45),a(46),a(47),a(48);const ne=document.getElementById("root");Object(o.createRoot)(ne).render(Object(m.jsx)(ae,{}))}},[[49,1,2]]]);
//# sourceMappingURL=main.fde85fd3.chunk.js.map