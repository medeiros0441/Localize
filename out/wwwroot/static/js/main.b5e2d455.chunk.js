(this.webpackJsonpprojectlocalize=this.webpackJsonpprojectlocalize||[]).push([[0],{39:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(22),o=a(9);const c=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n={path:"/",...n};const s=new Date;s.setTime(s.getTime()+60*a*1e3),n.expires=s.toUTCString(),n.expires instanceof Date&&(n.expires=n.expires.toUTCString());let o=encodeURIComponent(e)+"="+encodeURIComponent(t);for(let c in n){o+="; "+c;let e=n[c];!0!==e&&(o+="="+e)}document.cookie=o};var r=a(43);async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const n=`/api/${e.endsWith("/")?e:`${e}/`}`;return{success:!0,...(await Object(r.a)({url:n,method:t,headers:{"Content-Type":"application/json"},data:a})).data}}catch(n){const e=function(e){if(!e.response)return e.request?"Nenhuma resposta recebida do servidor.":e.message||"Erro ao configurar a requisi\xe7\xe3o.";switch(e.response.status){case 400:return e.response.data.message||"Solicita\xe7\xe3o inv\xe1lida.";case 401:return e.response.data.message||"N\xe3o autorizado.";case 403:return e.response.data.message||"Acesso negado.";case 404:return e.response.data.message||"Recurso n\xe3o encontrado.";case 500:return e.response.data.message||"Erro interno do servidor.";default:return e.response.data.message||"Erro na requisi\xe7\xe3o."}}(n);return{success:!1,message:e}}}const l=()=>{const[e,t]=Object(n.useState)((()=>(e=>{const t=document.cookie.split(";");for(let a of t){const[t,n]=a.split("=").map((e=>e.trim()));if(t===e)return n}return null})("authentication")));return Object(n.useEffect)((()=>{null===e&&(async()=>{try{const e=await i("public/CheckAuthentication/");if(e.success){const a=e.authenticated;c("authentication",a),t(a)}else console.error("Autentica\xe7\xe3o falhou:",e.message),c("authentication",!1),t(!1)}catch(e){console.error("Erro ao verificar autentica\xe7\xe3o:",e),c("authentication",!1),t(!1)}})()}),[e]),e};var d=a(16),m=a.n(d),b=a(1);const j=()=>Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{className:"text-center d-inline-flex col-auto",children:Object(b.jsxs)(o.b,{className:"nav-link text-decoration-none text-white nav-link-icon   px-0 align-items-center",to:"/login",children:[Object(b.jsx)("i",{className:"bi bi-person"}),Object(b.jsx)("span",{className:"text-decoration-none",children:"Login"})]})}),Object(b.jsx)("li",{className:"  text-center d-inline-flex col-auto",children:Object(b.jsxs)(o.b,{className:"nav-link text-decoration-none text-white nav-link-icon   px-0 align-items-center",to:"/cadastro",children:[Object(b.jsx)("i",{className:"bi bi-toglle"})," Cadastro"]})})]}),u=()=>Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{className:"d-inline-flex col-auto",children:Object(b.jsxs)(o.b,{className:"nav-link",to:"/clientes-list",children:[Object(b.jsx)("i",{className:"bi bi-speedometer2"})," Clientes"]})}),Object(b.jsx)("li",{className:"d-inline-flex col-auto",children:Object(b.jsxs)(o.b,{className:"nav-link nav-link-icon",to:"/cobrancas-list",children:[Object(b.jsx)("i",{className:"bi bi-people"})," Cobran\xe7as"]})})]});var h=()=>{const e=l();Object(n.useEffect)((()=>{const e=m.a.get("menuState"),t=document.getElementById("navbarNav"),a=document.getElementById("menuIcon");"visible"===e?(t.classList.remove("d-none"),a.classList.remove("bi-box-arrow-down"),a.classList.add("bi-box-arrow-in-up")):(t.classList.add("d-none"),a.classList.remove("bi-box-arrow-in-up"),a.classList.add("bi-box-arrow-down"))}),[]);return Object(b.jsx)("nav",{className:"navbar-expand-md navbar-dark pt-3 pb-2 font-montserrat",style:{background:"#0D1B2A"},children:Object(b.jsxs)("div",{className:"p-0 m-0 mx-auto container-xl row",children:[Object(b.jsxs)("div",{className:"p-0 m-0 col-12 container justify-content-between row align-items-center",children:[Object(b.jsx)(o.b,{className:"col text-sm-center text-start text-decoration-none",to:"/",children:Object(b.jsx)("p",{className:"  mb-2 text-white",style:{fontSize:"20px"},children:"Localize Project"})}),Object(b.jsx)("button",{className:"btn text-white col-auto d-inline-flex ms-auto d-sm-none",type:"button",onClick:()=>{const e=document.getElementById("navbarNav"),t=document.getElementById("menuIcon");e.classList.contains("d-none")?(e.classList.remove("d-none"),t.classList.remove("bi-box-arrow-down"),t.classList.add("bi-box-arrow-in-up"),m.a.set("menuState","visible")):(e.classList.add("d-none"),t.classList.remove("bi-box-arrow-in-up"),t.classList.add("bi-box-arrow-down"),m.a.set("menuState","hidden"))},children:Object(b.jsx)("span",{className:"bi bi-box-arrow-in-up",id:"menuIcon",style:{fontSize:"20px"}})})]}),Object(b.jsx)("div",{className:"col-12 d-sm-block d-none",id:"navbarNav",children:Object(b.jsx)("ul",{className:"text-decoration-none text-center text-white my-2 row mx-auto mx-sm-0 col-auto container-xl font-monospace text-center text-sm-end justify-content-center align-items-center",children:!0===e?Object(b.jsx)(u,{}):Object(b.jsx)(j,{})})})]})})};var x=e=>{let{children:t}=e;return Object(b.jsxs)("div",{id:"content",children:[Object(b.jsx)("div",{id:"id_alert_container",className:"container mx-auto"}),t]})};var p=e=>{let{isCliente:t}=e;return Object(b.jsx)("footer",{className:"footer",style:{background:"#0D1B2A"},children:Object(b.jsx)("div",{className:"col-10 font-montserrat col-flex-inline redound p-0 text-center mb-auto full-width mx-auto",children:Object(b.jsxs)("p",{className:"m-0 p-0 bg-white rounded text-black",style:{fontSize:"0.8rem"},children:["Software Desenvolvido por ",Object(b.jsx)("a",{className:"text-decoration-none text-black",href:"https://br.linkedin.com/in/samuelmedeirosbc",target:"blank",children:"@Samuel Medeiros"}),"."]})})})};var v=e=>{let{children:t,isCliente:a}=e;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"container-fluid m-0 p-0 wrapper  ",style:{background:"#f5f7fa"},children:Object(b.jsxs)("div",{className:"wrapper",children:[Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)(h,{isCliente:a}),Object(b.jsx)(x,{children:t})]}),Object(b.jsxs)("div",{className:"footer",children:[Object(b.jsx)("div",{className:"custom-shape-divider-bottom-1708368458 mt-3",style:{marginBottom:"-2px"},children:Object(b.jsx)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:Object(b.jsx)("path",{d:"M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z",className:"shape-fill"})})}),Object(b.jsx)(p,{isCliente:a})]})]})})})},O=a(4),f=a(24);function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null===t?function(e,t,a){let n=document.querySelector(".toast-container");n||(n=document.createElement("div"),n.classList.add("toast-container","position-fixed","top-0","end-0","p-3"),document.body.appendChild(n));const s=document.createElement("div");s.classList.add("toast"),s.setAttribute("role","alert"),s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true");const o=document.createElement("div");o.classList.add("toast-header");const c=document.createElement("strong");c.classList.add("me-auto","Font-Gliker","fw-bold"),c.innerText="{ C P S }";const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("btn-close"),r.setAttribute("data-bs-dismiss","toast"),r.setAttribute("aria-label","Close");const i=document.createElement("div");i.classList.add("toast-body","bg-white","rounded-bottom","shadow-lg"),i.innerText=e,o.appendChild(c),o.appendChild(r),s.appendChild(o),s.appendChild(i),n.appendChild(s),f.a.Toast(s).show(),setTimeout((()=>{n.removeChild(s)}),a)}(e,0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:18e4):function(e,t,a){const n=document.getElementById(a)||document.getElementById("id_alert_container");if(!n)return;const s=n.querySelector(".alert");s&&n.removeChild(s);const o={1:{class:"alert-success",icon:"bi-check-circle-fill"},2:{class:"alert-danger",icon:"bi-exclamation-circle-fill"},3:{class:"alert-warning",icon:"bi-exclamation-triangle-fill"},default:{class:"alert-info",icon:"bi-info-circle-fill"}},{class:c,icon:r}=o[e]||o.default,i=document.createElement("div");i.classList.add("alert",c,"alert-dismissible","fade","show","mt-2","bt-2"),i.setAttribute("role","alert");const l=document.createElement("button");l.classList.add("btn-close"),l.setAttribute("type","button"),l.setAttribute("data-bs-dismiss","alert"),l.setAttribute("aria-label","Close"),i.appendChild(l);const d=document.createElement("span");d.classList.add("bi",r),d.setAttribute("aria-hidden","true"),i.appendChild(d),i.appendChild(document.createTextNode(" "+t)),n.insertBefore(i,n.firstChild)}(t,e,a)}function N(e,t){let a=null;if("string"===typeof t){if(a=document.getElementById(t),!a)return void console.error(`Container com ID '${t}' n\xe3o encontrado.`)}else{if(!(t instanceof HTMLElement))return void console.error("Tipo inv\xe1lido para o container. Deve ser uma string (ID do elemento) ou HTMLElement.");a=t}const n=`${a.id}-loading`;if(!0===e){a.style.display="none";const e=document.createElement("div");e.id=n,e.classList.add("loading","d-flex","justify-content-center","align-items-center","text-primary"),e.style.minHeight="200px",e.style.width="100%";const t=document.createElement("div");t.classList.add("spinner-border"),t.setAttribute("role","status");const s=document.createElement("span");s.classList.add("visually-hidden"),s.textContent="Loading...",t.appendChild(s),e.appendChild(t),a.insertAdjacentElement("afterend",e)}else if(!1===e){const e=document.getElementById(n);e&&e.remove(),a.style.display=""}}var y=()=>{const[e,t]=Object(n.useState)(""),[a,s]=Object(n.useState)(""),o=Object(O.p)();return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("form",{id:"form_login",className:"form-signin container mx-auto",children:Object(b.jsx)("div",{className:"px-sm-2 p-4 my-3 modal modal-signin position-static d-block align-items-center",children:Object(b.jsx)("div",{className:"modal-dialog m-0 m-sm-auto",children:Object(b.jsxs)("div",{className:"modal-content mb-2 bg-body rounded-3 border",children:[Object(b.jsx)("div",{className:"modal-header",children:Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("i",{width:"32",height:"32",className:"bi mb-1 bi-person"}),Object(b.jsx)("h1",{className:"text-center mb-1 ms-2 fw-normal small text-dark mx-auto",children:"Acessar Conta"})]})}),Object(b.jsxs)("div",{className:"modal-body",children:[Object(b.jsxs)("div",{className:"form-floating mb-2",children:[Object(b.jsx)("input",{type:"email",className:"form-control",autoComplete:"off",value:e,onChange:e=>t(e.target.value)}),Object(b.jsx)("label",{htmlFor:"email",children:"E-mail"})]}),Object(b.jsxs)("div",{className:"form-floating mb-2",children:[Object(b.jsx)("input",{type:"password",className:"form-control",autoComplete:"off",id:"senha",name:"senha",value:a,onChange:e=>s(e.target.value)}),Object(b.jsx)("label",{htmlFor:"senha",children:"Senha"})]}),Object(b.jsxs)("div",{className:"col-12 mb-4",children:[Object(b.jsx)("a",{tabIndex:"8",className:"ms-auto link-secondary small mx-auto rounded-2",href:"/cadastro",children:"Cadastre-se"}),Object(b.jsx)("button",{id:"submit-btn",className:"btn btn-primary float-end me-2 btn-md",type:"button",onClick:async()=>{if(""!==e.trim()&&""!==a.trim())try{N(!0,"form_login");const t=await i("usuarios/login/","POST",{email:e,senha:a});t.sucess?o("/usuarios"):g(t.message,2,"form_login")}catch(t){g(t,2,"form_login")}finally{N(!1,"form_login")}else g("Preencha todos os campos!",2)},children:"Entrar"})]})]})]})})})})})},C=a(23),w=a(44),E=a(45);var D=function(){const[e,t]=Object(n.useState)({nome:"",email:"",senha:""}),a=Object(O.p)(),s=e=>{const{name:a,value:n}=e.target;t((e=>({...e,[a]:n})))};return Object(b.jsx)("div",{className:"container my-5",children:Object(b.jsxs)("div",{className:"card justify-content-center",id:"ContainerFormulario",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsxs)("h1",{className:"fw-bolder mt-2 mb-1 fs-6 font-monospace",children:[Object(b.jsx)("span",{className:"bi bi-user me-2"}),"Cadastro Usu\xe1rio"]})}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)(C.a,{controlId:"nome",className:"mb-2",label:"Nome",children:Object(b.jsx)(w.a.Control,{type:"text",placeholder:"Nome",name:"nome",value:e.nome,onChange:s})}),Object(b.jsx)(C.a,{controlId:"email",className:"mb-2",label:"E-mail",children:Object(b.jsx)(w.a.Control,{type:"email",placeholder:"E-mail",name:"email",value:e.email,onChange:s})}),Object(b.jsx)(C.a,{controlId:"senha",className:"mb-2",label:"Senha",children:Object(b.jsx)(w.a.Control,{type:"password",placeholder:"Senha",name:"senha",value:e.senha,onChange:s})})]}),Object(b.jsx)("div",{className:"d-flex justify-content-end card-footer",children:Object(b.jsx)(E.a,{variant:"primary",onClick:async()=>{e.nome&&e.email&&e.senha?await(async()=>{const{nome:t,email:n,senha:s}=e;try{N(!0,"ContainerFormulario");const e=await i("usuario/register/","POST",{nome:t,email:n,senha:s});e.success?(g(e.message,1),a("/login")):g(e.message,2)}catch(o){g("Erro ao registrar. Por favor, tente novamente.",2)}finally{N(!1,"ContainerFormulario")}})():g("Por favor, preencha todos os campos obrigat\xf3rios.",2)},children:"Cadastrar"})})]})})};var I=()=>{const e=Object(O.n)(),t=new URLSearchParams(e.search),a=t.get("title")||"Ocorreu um erro!",n=t.get("descricao")||"Desculpe-nos pelo inconveniente.",s=t.get("urlRedirect")||"";return Object(b.jsx)("div",{className:"px-3",children:Object(b.jsxs)("div",{className:"container-erro my-4 container  justify-content-between align-items-center text-center mx-0 mx-sm-auto",children:[Object(b.jsx)("h1",{className:"h1-erro",children:a}),Object(b.jsx)("p",{className:"p-erro",children:n}),s&&Object(b.jsx)("a",{href:s,className:"btn btn-primary",children:"Voltar"}),Object(b.jsx)("p",{children:"Por favor, tente novamente mais tarde ou entre em contato conosco para obter assist\xeancia."})]})})};var k=function(e){let{clienteId:t,initialData:a}=e;const[s,o]=Object(n.useState)({Nome:(null===a||void 0===a?void 0:a.Nome)||"",Documento:(null===a||void 0===a?void 0:a.Documento)||"",Telefone:(null===a||void 0===a?void 0:a.Telefone)||"",Endereco:(null===a||void 0===a?void 0:a.Endereco)||"",UsuarioId:(null===a||void 0===a?void 0:a.UsuarioId)||""}),c=Object(O.p)(),r=e=>{const{name:t,value:a}=e.target;o((e=>({...e,[t]:a})))};return Object(b.jsx)("div",{className:"container my-5",children:Object(b.jsxs)("div",{className:"card justify-content-center",id:"ContainerFormulario",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsxs)("h1",{className:"fw-bolder mt-2 mb-1 fs-6 font-monospace",children:[Object(b.jsx)("span",{className:"bi bi-person me-2"}),t?"Editar Cliente":"Novo Cliente"]})}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)(C.a,{controlId:"Nome",className:"mb-2",label:"Nome",children:Object(b.jsx)(w.a.Control,{type:"text",placeholder:"Nome",name:"Nome",value:s.Nome,onChange:r})}),Object(b.jsx)(C.a,{controlId:"Documento",className:"mb-2",label:"Documento",children:Object(b.jsx)(w.a.Control,{type:"text",placeholder:"Documento",name:"Documento",value:s.Documento,onChange:r})}),Object(b.jsx)(C.a,{controlId:"Telefone",className:"mb-2",label:"Telefone",children:Object(b.jsx)(w.a.Control,{type:"text",placeholder:"Telefone",name:"Telefone",value:s.Telefone,onChange:r})}),Object(b.jsx)(C.a,{controlId:"Endereco",className:"mb-2",label:"Endere\xe7o",children:Object(b.jsx)(w.a.Control,{type:"text",placeholder:"Endere\xe7o",name:"Endereco",value:s.Endereco,onChange:r})})]}),Object(b.jsx)("div",{className:"d-flex justify-content-end card-footer",children:Object(b.jsx)(E.a,{variant:"primary",onClick:async()=>{s.Nome&&s.Documento&&s.Telefone&&s.Endereco?await(async()=>{try{N(!0,"ContainerFormulario");const e=t?`public/clientes/${t}/`:"public/clientes/",a=t?"PUT":"POST",n=await i(e,a,s);n.success?(g(n.message,1),c("/clientes")):g(n.message,2)}catch(e){g("Erro ao salvar os dados. Por favor, tente novamente.",2)}finally{N(!1,"ContainerFormulario")}})():g("Por favor, preencha todos os campos obrigat\xf3rios.",2)},children:t?"Salvar":"Cadastrar"})})]})})};var L=function(){};var S=function(e){let{cobrancaId:t,initialData:a,clienteId:s}=e;const[o,c]=Object(n.useState)({Descricao:(null===a||void 0===a?void 0:a.Descricao)||"",Valor:(null===a||void 0===a?void 0:a.Valor)||0,Data:null!==a&&void 0!==a&&a.Data?new Date(a.Data).toISOString().split("T")[0]:"",Pago:(null===a||void 0===a?void 0:a.Pago)||!1,ClienteId:s||(null===a||void 0===a?void 0:a.ClienteId)||""}),r=Object(O.p)(),l=e=>{const{name:t,value:a,type:n,checked:s}=e.target;c((e=>({...e,[t]:"checkbox"===n?s:a})))};return Object(b.jsx)("div",{className:"container my-5",children:Object(b.jsxs)("div",{className:"card justify-content-center",id:"ContainerFormulario",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsxs)("h1",{className:"fw-bolder mt-2 mb-1 fs-6 font-monospace",children:[Object(b.jsx)("span",{className:"bi bi-cash me-2"}),t?"Editar Cobran\xe7a":"Nova Cobran\xe7a"]})}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)(C.a,{controlId:"Descricao",className:"mb-2",label:"Descri\xe7\xe3o",children:Object(b.jsx)(w.a.Control,{type:"text",placeholder:"Descri\xe7\xe3o",name:"Descricao",value:o.Descricao,onChange:l})}),Object(b.jsx)(C.a,{controlId:"Valor",className:"mb-2",label:"Valor",children:Object(b.jsx)(w.a.Control,{type:"number",step:"0.01",placeholder:"Valor",name:"Valor",value:o.Valor,onChange:l})}),Object(b.jsx)(C.a,{controlId:"Data",className:"mb-2",label:"Data",children:Object(b.jsx)(w.a.Control,{type:"date",placeholder:"Data",name:"Data",value:o.Data,onChange:l})}),Object(b.jsx)(w.a.Check,{type:"checkbox",id:"Pago",label:"Pago",name:"Pago",checked:o.Pago,onChange:l})]}),Object(b.jsx)("div",{className:"d-flex justify-content-end card-footer",children:Object(b.jsx)(E.a,{variant:"primary",onClick:async()=>{o.Descricao&&o.Valor>=0&&o.Data&&o.ClienteId?await(async()=>{try{N(!0,"ContainerFormulario");const e=t?`public/cobrancas/${t}/`:"public/cobrancas/",a=t?"PUT":"POST",n=await i(e,a,o);n.success?(g(n.message,1),r("/cobrancas")):g(n.message,2)}catch(e){g("Erro ao salvar os dados. Por favor, tente novamente.",2)}finally{N(!1,"ContainerFormulario")}})():g("Por favor, preencha todos os campos obrigat\xf3rios e valide os dados.",2)},children:t?"Salvar":"Cadastrar"})})]})})};var T=function(){};var P=()=>{const e=l();return Object(b.jsxs)(O.d,{children:[Object(b.jsx)(O.b,{path:"/",element:Object(b.jsx)(y,{})}),Object(b.jsx)(O.b,{path:"/login",element:Object(b.jsx)(y,{})}),Object(b.jsx)(O.b,{path:"/cadastro",element:Object(b.jsx)(D,{})}),Object(b.jsx)(O.b,{path:"/erro-interno",element:Object(b.jsx)(I,{title:"Erro Interno",descricao:"Ocorreu um erro interno no servidor. Tente novamente mais tarde."})}),Object(b.jsx)(O.b,{path:"*",element:Object(b.jsx)(I,{title:"P\xe1gina N\xe3o Encontrada",descricao:"A p\xe1gina que voc\xea est\xe1 procurando n\xe3o existe."})}),Object(b.jsx)(O.b,{path:"/cliente/",element:!0===e?Object(b.jsx)(k,{}):Object(b.jsx)(O.a,{to:"/login"})}),Object(b.jsx)(O.b,{path:"/cliente/form",element:!0===e?Object(b.jsx)(L,{}):Object(b.jsx)(O.a,{to:"/login"})}),Object(b.jsx)(O.b,{path:"/cobranca",element:!0===e?Object(b.jsx)(S,{}):Object(b.jsx)(O.a,{to:"/login"})}),Object(b.jsx)(O.b,{path:"/cobranca/form",element:!0===e?Object(b.jsx)(T,{}):Object(b.jsx)(O.a,{to:"/login"})})]})};var A=e=>{let{isCliente:t=!1}=e;return Object(b.jsx)(o.a,{children:Object(b.jsx)(v,{isCliente:t,children:Object(b.jsx)(P,{})})})};a(37),a(38),a(39),a(40);const F=document.getElementById("root");Object(s.createRoot)(F).render(Object(b.jsx)(A,{}))}},[[41,1,2]]]);
//# sourceMappingURL=main.b5e2d455.chunk.js.map